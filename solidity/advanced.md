## Contractì˜ ë¶ˆë³€ì„±
ì§€ê¸ˆê¹Œì§€ ë³¸ ê²ƒë§Œìœ¼ë¡œëŠ”, ì†”ë¦¬ë””í‹°ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°™ì€ ë‹¤ë¥¸ ì–¸ì–´ì™€ ê½¤ ë¹„ìŠ·í•´ë³´ì˜€ì„ ê²ƒì´ë‹¤. 
í•˜ì§€ë§Œ ì´ë”ë¦¬ì›€ DAppì—ëŠ” ì¼ë°˜ì ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ëŠ” ë‹¤ë¥¸ ì—¬ëŸ¬ê°€ì§€ íŠ¹ì§•ì´ ìˆë‹¤.

1. ì´ë”ë¦¬ì›€ì— Contractë¥¼ ë°°í¬í•˜ê³  ë‚˜ë©´, ContractëŠ” ë³€í•˜ì§€ ì•ŠëŠ”ë‹¤(Immutable). 
-> ì»¨íŠ¸ë™íŠ¸ë¥¼ ìˆ˜ì •í•˜ê±°ë‚˜ ì—…ë°ì´íŠ¸í•  ìˆ˜ ì—†ë‹¤

Contractë¡œ ë°°í¬í•œ ìµœì´ˆì˜ ì½”ë“œëŠ” í•­ìƒ, ë¸”ë¡ì²´ì¸ì— ì˜êµ¬ì ìœ¼ë¡œ ì¡´ì¬. ì´ê²ƒì´ ë°”ë¡œ ì†”ë¦¬ë””í‹°ì— ìˆì–´ì„œ ë³´ì•ˆì´ êµ‰ì¥íˆ í° ì´ìŠˆì¸ ì´ìœ . 
ë§Œì•½ Contract Codeì— ê²°ì ì´ ìˆë‹¤ë©´, ê·¸ê²ƒì„ ì´í›„ì— ê³ ì¹  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ì „í˜€ ì—†ë‹¤ ì‚¬ìš©ìë“¤ì—ê²Œ ê²°ì ì„ ë³´ì™„í•œ ë‹¤ë¥¸ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ì£¼ì†Œë¥¼ ì“°ë¼ê³  ë§í•˜ê³  ë‹¤ë…€ì•¼í•¨.

ê·¸ëŸ¬ë‚˜ ì´ê²ƒ ë˜í•œ Smart Contractì˜ í•œ íŠ¹ì§•ì´ë‹¤. ì½”ë“œëŠ” ê³§ ë²•. ì–´ë–¤ Smart Contractì˜ ì½”ë“œë¥¼ ì½ê³  ê²€ì¦ì„ í–ˆë‹¤ë©´, 
í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œë§ˆë‹¤, ì½”ë“œì— ì“°ì—¬ì§„ ê·¸ëŒ€ë¡œ í•¨ìˆ˜ê°€ ì‹¤í–‰ë  ê²ƒì´ë¼ê³  í™•ì‹ í•  ìˆ˜ ìˆë‹¤. ê·¸ ëˆ„êµ¬ë„ ë°°í¬ ì´í›„ì— í•¨ìˆ˜ë¥¼ ìˆ˜ì •í•˜ê±°ë‚˜ ì˜ˆìƒì¹˜ ëª»í•œ ê²°ê³¼ë¥¼ ë°œìƒì‹œí‚¤ì§€ ëª»í•œë‹¤

## ì™¸ë¶€ ì˜ì¡´ì„±
ìš°ë¦¬ëŠ” í¬ë¦½í† í‚¤í‹° ì»¨íŠ¸ë™íŠ¸ì˜ ì£¼ì†Œë¥¼ ìš°ë¦¬ DAppì— ì§ì ‘ ì¨ë„£ì—ˆë‹¤.
ê·¸ëŸ°ë° ë§Œì•½ í¬ë¦½í† í‚¤í‹° ì»¨íŠ¸ë™íŠ¸ì— ë²„ê·¸ê°€ ìˆì—ˆê³ , ëˆ„êµ°ê°€ ëª¨ë“  ê³ ì–‘ì´ë“¤ì„ íŒŒê´´í•´ë²„ë ¸ë‹¤ë©´ ì–´ë–»ê²Œ ë  ê²ƒ ì¸ê°€?

ê·¸ëŸ´ ì¼ì€ ì˜ ì—†ê² ì§€ë§Œ, ë§Œì•½ ê·¸ëŸ° ì¼ì´ ë°œìƒí•œë‹¤ë©´ ìš°ë¦¬ì˜ DAppì€ ì™„ì „íˆ ì“¸ëª¨ê°€ ì—†ì–´ì§„ë‹¤.
ìš°ë¦¬ DAppì€ ì£¼ì†Œë¥¼ ì½”ë“œì— ì§ì ‘ ì¨ë„£ê¸° ë•Œë¬¸ì— ì–´ë–¤ ê³ ì–‘ì´ë“¤ë„ ë°›ì•„ì˜¬ ìˆ˜ ì—†ë‹¤.

ìš°ë¦¬ ì¢€ë¹„ë“¤ì€ ê³ ì–‘ì´ë¥¼ ë¨¹ì„ ìˆ˜ ì—†ì„ ê²ƒì´ê³ , ìš°ë¦¬ëŠ” ê·¸ê±¸ ê³ ì¹˜ê¸° ìœ„í•´ ìš°ë¦¬ì˜ ì»¨íŠ¸ë™íŠ¸ë¥¼ ìˆ˜ì •í•  ìˆ˜ë„ ì—†ì„ ê²ƒì´ë‹¤.

ì´ëŸ° ì´ìœ ë¡œ, ëŒ€ê°œì˜ ê²½ìš° DAppì˜ ì¤‘ìš”í•œ ì¼ë¶€ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ë†“ëŠ” ê²ƒì´ í•©ë¦¬ì ì´ë‹¤.

ì˜ˆë¥¼ ë“¤ìë©´ ìš°ë¦¬ DAppì— í¬ë¦½í† í‚¤í‹° ì»¨íŠ¸ë™íŠ¸ ì£¼ì†Œë¥¼ ì§ì ‘ ì¨ë„£ëŠ” ê²ƒ ëŒ€ì‹ , ì–¸ì  ê°€ í¬ë¦½í† í‚¤í‹° ì»¨íŠ¸ë™íŠ¸ì— ë¬¸ì œê°€ ìƒê¸°ë©´ í•´ë‹¹ ì£¼ì†Œë¥¼ ë°”ê¿€ ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” setKittyContractAddress í•¨ìˆ˜ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì„ ê²ƒ

```solidity
ontract ZombieFeeding is ZombieFactory {
  address ckAddress = 0x06012c8cf97BEaD5deAe237070F9587f8E7A266d;
  KittyInterface kittyContract = KittyInterface(ckAddress);
  ...
}
```

```solidity
contract ZombieFeeding is ZombieFactory {

  KittyInterface kittyContract;

  function setKittyContractAddress(address _address) external {
    kittyContract = KittyInterface(_address);
  }
  ...
}
```

## ì†Œìœ  ê°€ëŠ¥í•œ Contract

setKittyContractAddress í•¨ìˆ˜ëŠ” externalì´ë¼, ëˆ„êµ¬ë“  ì´ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.
ì´ëŠ” ì•„ë¬´ë‚˜ ì´ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ì„œ í¬ë¦½íŠ¸í‚¤í‹° Contractì˜ ì£¼ì†Œë¥¼ ë°”ê¿€ ìˆ˜ ìˆê³ , ëª¨ë“  ì‚¬ìš©ìë¥¼ ëŒ€ìƒìœ¼ë¡œ ìš°ë¦¬ ì•±ì„ ë¬´ìš©ì§€ë¬¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤

ìš°ë¦¬ëŠ” ìš°ë¦¬ Contractì—ì„œ ì´ ì£¼ì†Œë¥¼ ë°”ê¿€ ìˆ˜ ìˆê²Œë” í•˜ê³  ì‹¶ì§€ë§Œ, ê·¸ë ‡ë‹¤ê³  ëª¨ë“  ì‚¬ëŒì´ ì£¼ì†Œë¥¼ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆê¸°ë¥¼ ì›í•˜ì§€ëŠ” ì•Šë‹¤.
ì´ëŸ° ê²½ìš°ì— ëŒ€ì²˜í•˜ê¸° ìœ„í•´ì„œ, ìµœê·¼ì— ì£¼ë¡œ ì“°ëŠ” í•˜ë‚˜ì˜ ë°©ë²•ì€ Contractë¥¼ ì†Œìœ  ê°€ëŠ¥í•˜ê²Œ ë§Œë“œëŠ” ê²ƒì´ë‹¤.
-> Contractë¥¼ ëŒ€ìƒìœ¼ë¡œ íŠ¹ë³„í•œ ê¶Œë¦¬ë¥¼ ê°€ì§€ëŠ” ì†Œìœ ìê°€ ìˆìŒì„ ì˜ë¯¸

## OpenZeppelinì˜ Ownable Contract

ì•„ë˜ëŠ” OpenZeppelin ì†”ë¦¬ë””í‹° ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ê°€ì ¸ì˜¨ Ownable ì»¨íŠ¸ë™íŠ¸ì´ë‹¤.

OpenZeppelinì€ DAppì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”, ì•ˆì „í•˜ê³  ì»¤ë®¤ë‹ˆí‹°ì—ì„œ ê²€ì¦ë°›ì€ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤.
[https://openzeppelin.com/](https://openzeppelin.com/)

```solidity
/**
 * @title Ownable
 * @dev The Ownable contract has an owner address, and provides basic authorization control
 * functions, this simplifies the implementation of "user permissions".
 */
contract Ownable {
  address public owner;
  event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);

  /**
   * @dev The Ownable constructor sets the original `owner` of the contract to the sender
   * account.
   */
  function Ownable() public {
    owner = msg.sender;
  }

  /**
   * @dev Throws if called by any account other than the owner.
   */
  modifier onlyOwner() {
    require(msg.sender == owner);
    _;
  }

  /**
   * @dev Allows the current owner to transfer control of the contract to a newOwner.
   * @param newOwner The address to transfer ownership to.
   */
  function transferOwnership(address newOwner) public onlyOwner {
    require(newOwner != address(0));
    OwnershipTransferred(owner, newOwner);
    owner = newOwner;
  }
}
```

- ìƒì„±ì(Constructor) 
  function Ownable()ëŠ” ìƒì„±ìì´ë‹¤.
  Contractì˜ì™€ ë™ì¼í•œ ì´ë¦„ì„ ê°€ì§„,ìƒëµí•  ìˆ˜ ìˆëŠ” íŠ¹ë³„í•œ í•¨ìˆ˜ë¡œ, ì´ í•¨ìˆ˜ëŠ” Contractì˜ê°€ ìƒì„±ë  ë•Œ ë”± í•œ ë²ˆë§Œ ì‹¤í–‰.

- í•¨ìˆ˜ ì œì–´ì(Function Modifier)
  modifier onlyOwner()
  ì œì–´ìëŠ” ë‹¤ë¥¸ í•¨ìˆ˜ë“¤ì— ëŒ€í•œ ì ‘ê·¼ì„ ì œì–´í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ì¼ì¢…ì˜ ìœ ì‚¬ í•¨ìˆ˜.
  ë³´í†µ í•¨ìˆ˜ ì‹¤í–‰ ì „ì˜ ìš”êµ¬ì‚¬í•­ ì¶©ì¡± ì—¬ë¶€ë¥¼ í™•ì¸í•˜ëŠ” ë°ì— ì‚¬ìš©
  onlyOwnerì˜ ê²½ìš°ì—ëŠ” ì ‘ê·¼ì„ ì œí•œí•´ì„œ ì˜¤ì§ Contractì˜ ì†Œìœ ìë§Œ í•´ë‹¹ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.

ì¦‰, Ownable ContractëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ê²ƒë“¤ì„ í•¨.

1. Contractê°€ ìƒì„±ë˜ë©´ Contractì˜ ìƒì„±ìê°€ ownerì— msg.sender(Contractë¥¼ ë°°í¬í•œ ì‚¬ëŒ)ë¥¼ ëŒ€ì…í•œë‹¤.

2. íŠ¹ì •í•œ í•¨ìˆ˜ë“¤ì— ëŒ€í•´ì„œ ì˜¤ì§ ì†Œìœ ìë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ì œí•œ ê°€ëŠ¥í•œ onlyOwner ì œì–´ìë¥¼ ì¶”ê°€í•œë‹¤.

3. ìƒˆë¡œìš´ ì†Œìœ ìì—ê²Œ í•´ë‹¹ Contractì˜ ì†Œìœ ê¶Œì„ ì˜®ê¸¸ ìˆ˜ ìˆë„ë¡ í•œë‹¤.

onlyOwnerëŠ” ì»¨íŠ¸ë™íŠ¸ì—ì„œ í”íˆ ì“°ëŠ” ê²ƒ ì¤‘ í•˜ë‚˜ë¼, ëŒ€ë¶€ë¶„ì˜ ì†”ë¦¬ë””í‹° DAppë“¤ì€ Ownable ì»¨íŠ¸ë™íŠ¸ë¥¼ ë³µì‚¬/ë¶™ì—¬ë„£ê¸° í•˜ë©´ì„œ ì‹œì‘í•¨.
ê·¸ë¦¬ê³  ì²« ì»¨íŠ¸ë™íŠ¸ëŠ” ì´ ì»¨íŠ¸ë™íŠ¸ë¥¼ ìƒì†í•´ì„œ ë§Œë“¦.

## onlyOwner í•¨ìˆ˜ ì œì–´ì

### í•¨ìˆ˜ì œì–´ì

í•¨ìˆ˜ ì œì–´ìëŠ” í•¨ìˆ˜ì²˜ëŸ¼ ë³´ì´ì§€ë§Œ, function í‚¤ì›Œë“œ ëŒ€ì‹  modifier í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•œë‹¤
ê·¸ë¦¬ê³  í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë“¯ì´ ì§ì ‘ í˜¸ì¶œí•  ìˆ˜ëŠ” ì—†ë‹¤.

ëŒ€ì‹ ì— í•¨ìˆ˜ ì •ì˜ë¶€ ëì— í•´ë‹¹ í•¨ìˆ˜ì˜ ì‘ë™ ë°©ì‹ì„ ë°”ê¾¸ë„ë¡ ì œì–´ìì˜ ì´ë¦„ì„ ë¶™ì¼ ìˆ˜ ìˆë‹¤.
```solidty
/**
 * @dev Throws if called by any account other than the owner.
 */
modifier onlyOwner() {
  require(msg.sender == owner);
  _;
}
```

ì´ ì œì–´ìë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•  ê²ƒì´ë‹¤.
```solidty
contract MyContract is Ownable {
  event LaughManiacally(string laughter);

  // ì•„ë˜ `onlyOwner`ì˜ ì‚¬ìš© ë°©ë²•ì„ ì˜ ë³´ê²Œ:
  function likeABoss() external onlyOwner {
    LaughManiacally("Muahahahaha");
  }
}
```
likeABoss í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´, onlyOwnerì˜ ì½”ë“œê°€ ë¨¼ì € ì‹¤í–‰ë˜ë„¤. ê·¸ë¦¬ê³  onlyOwnerì˜ _; ë¶€ë¶„ì„ likeABoss í•¨ìˆ˜ë¡œ ë˜ëŒì•„ê°€ í•´ë‹¹ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê²Œ ë¨.
ì œì–´ìë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë‹¤ì–‘í•œ ë°©ë²•ì´ ìˆì§€ë§Œ, ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì“°ëŠ” ì˜ˆì‹œ ì¤‘ í•˜ë‚˜ëŠ” í•¨ìˆ˜ ì‹¤í–‰ ì „ì— require ì²´í¬ë¥¼ ë„£ëŠ” ê²ƒ

onlyOwnerì˜ ê²½ìš°ì—ëŠ”, í•¨ìˆ˜ì— ì´ ì œì–´ìë¥¼ ì¶”ê°€í•˜ë©´ ì˜¤ì§ Contractì˜ ì†Œìœ ì(ìë„¤ê°€ ë°°í¬í–ˆë‹¤ë©´ ìë„¤ê² ì§€)ë§Œì´ í•´ë‹¹ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.

> ì°¸ê³  : ì´ë ‡ê²Œ ì†Œìœ ìê°€ Contractì— íŠ¹ë³„í•œ ê¶Œí•œì„ ê°–ë„ë¡ í•˜ëŠ” ê²ƒì€ ìì£¼ í•„ìš”í•˜ì§€ë§Œ, ì´ê²Œ ì•…ìš©ë  ìˆ˜ë„ ìˆë‹¤.
ì˜ˆë¥¼ ë“¤ì–´, ì†Œìœ ìê°€ ë‹¤ë¥¸ ì‚¬ëŒì˜ ì¢€ë¹„ë¥¼ ëºì–´ì˜¬ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ë°±ë„ì–´ í•¨ìˆ˜ë¥¼ ì¶”ê°€í•  ìˆ˜ë„ ìˆë‹¤.

ê·¸ëŸ¬ë‹ˆ ì˜ ê¸°ì–µí•´ì•¼í•œë‹¤. ì´ë”ë¦¬ì›€ì—ì„œ ëŒì•„ê°€ëŠ” DAppì´ë¼ê³  í•´ì„œ ê·¸ê²ƒë§Œìœ¼ë¡œ ë¶„ì‚°í™”ë˜ì–´ ìˆë‹¤ê³  í•  ìˆ˜ëŠ” ì—†ë‹¤.
ë°˜ë“œì‹œ ì „ì²´ ì†ŒìŠ¤ ì½”ë“œë¥¼ ì½ì–´ë³´ê³ , ìë„¤ê°€ ì ì¬ì ìœ¼ë¡œ ê±±ì •í•  ë§Œí•œ, ì†Œìœ ìì— ì˜í•œ íŠ¹ë³„í•œ ì œì–´ê°€ ë¶ˆê°€ëŠ¥í•œ ìƒíƒœì¸ì§€ í™•ì¸í•´ì•¼ í•œë‹¤.

ê°œë°œìë¡œì„œëŠ” ìë„¤ê°€ ì ì¬ì ì¸ ë²„ê·¸ë¥¼ ìˆ˜ì •í•˜ê³  DAppì„ ì•ˆì •ì ìœ¼ë¡œ ìœ ì§€í•˜ë„ë¡ í•˜ëŠ” ê²ƒê³¼, 
ì‚¬ìš©ìë“¤ì´ ê·¸ë“¤ì˜ ë°ì´í„°ë¥¼ ë¯¿ê³  ì €ì¥í•  ìˆ˜ ìˆëŠ” ì†Œìœ ìê°€ ì—†ëŠ” í”Œë«í¼ì„ ë§Œë“œëŠ” ê²ƒ ì‚¬ì´ì—ì„œ ê· í˜•ì„ ì˜ ì¡ëŠ” ê²ƒì´ ì¤‘ìš”

## ê°€ìŠ¤
ë˜ ë‹¤ë¥¸ ì†”ë¦¬ë””í‹°ì™€ ë‹¤ë¥¸ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë“¤ì˜ ì°¨ì´ì 

### ê°€ìŠ¤ - ì´ë”ë¦¬ì›€ Dappì´ ì‚¬ìš©í•˜ëŠ” ì—°ë£Œ
ì†”ë¦¬ë””í‹°ì—ì„œëŠ” ì‚¬ìš©ìë“¤ì´ ìë„¤ê°€ ë§Œë“  DAppì˜ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ _ê°€ìŠ¤_ë¼ê³  ë¶ˆë¦¬ëŠ” í™”íë¥¼ ì§€ë¶ˆí•´ì•¼ í•¨.

ì‚¬ìš©ìëŠ” ì´ë”(ETH, ì´ë”ë¦¬ì›€ì˜ í™”í)ë¥¼ ì´ìš©í•´ì„œ ê°€ìŠ¤ë¥¼ ì‚¬ê¸° ë•Œë¬¸ì—, ìë„¤ì˜ DApp í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë ¤ë©´ ì‚¬ìš©ìë“¤ì€ ETHë¥¼ ì†Œëª¨í•´ì•¼ë§Œ í•œë‹¤.

í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ëŠ” ë°ì— ì–¼ë§ˆë‚˜ ë§ì€ ê°€ìŠ¤ê°€ í•„ìš”í•œì§€ëŠ” ê·¸ í•¨ìˆ˜ì˜ ë¡œì§(ë…¼ë¦¬ êµ¬ì¡°)ì´ ì–¼ë§ˆë‚˜ ë³µì¡í•œì§€ì— ë”°ë¼ ë‹¬ë¼ì§„ë‹¤.
ê°ê°ì˜ ì—°ì‚°ì€ ì†Œëª¨ë˜ëŠ” ê°€ìŠ¤ ë¹„ìš©(gas cost)ì´ ìˆê³ , ê·¸ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ëŠ” ë°ì— ì†Œëª¨ë˜ëŠ” ì»´í“¨íŒ… ìì›ì˜ ì–‘ì´ ì´ ë¹„ìš©ì„ ê²°ì •í•œë‹¤.

\* ì˜ˆë¥¼ ë“¤ì–´, storageì— ê°’ì„ ì“°ëŠ” ê²ƒì€ ë‘ ê°œì˜ ì •ìˆ˜ë¥¼ ë”í•˜ëŠ” ê²ƒë³´ë‹¤ í›¨ì”¬ ë¹„ìš©ì´ ë†’ë‹¤
í•¨ìˆ˜ì˜ ì „ì²´ ê°€ìŠ¤ ë¹„ìš©ì€ ê·¸ í•¨ìˆ˜ë¥¼ êµ¬ì„±í•˜ëŠ” ê°œë³„ ì—°ì‚°ë“¤ì˜ ê°€ìŠ¤ ë¹„ìš©ì„ ëª¨ë‘ í•©ì¹œ ê²ƒê³¼ ê°™ë‹¤.

í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì€ ìë„¤ì˜ ì‚¬ìš©ìë“¤ì—ê²Œ ì‹¤ì œ ëˆì„ ì“°ê²Œ í•˜ê¸° ë•Œë¬¸ì—, ì´ë”ë¦¬ì›€ì—ì„œ ì½”ë“œ ìµœì í™”ëŠ” ë‹¤ë¥¸ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë“¤ì— ë¹„í•´ í›¨ì”¬ ë” ì¤‘ìš”í•˜ë‹¤
ë§Œì•½ ì½”ë“œê°€ ì—‰ë§ì´ë¼ë©´, ì‚¬ìš©ìë“¤ì€ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ ì¼ì¢…ì˜ í• ì¦ë£Œë¥¼ ë” ë‚´ì•¼ í•œë‹¤. ê·¸ë¦¬ê³  ìˆ˜ì²œ ëª…ì˜ ì‚¬ìš©ìê°€ ì´ëŸ° ë¶ˆí•„ìš”í•œ ë¹„ìš©ì„ ë‚¸ë‹¤ë©´ í• ì¦ë£Œê°€ ìˆ˜ì‹­ ì–µ ì›ê¹Œì§€ ìŒ“ì¼ ìˆ˜ ìˆë‹¤


### ê°€ìŠ¤ëŠ” ì™œ í•„ìš”í•œê°€?

ì´ë”ë¦¬ì›€ì€ í¬ê³  ëŠë¦°, í•˜ì§€ë§Œ êµ‰ì¥íˆ ì•ˆì „í•œ ì»´í“¨í„°ì™€ ê°™ë‹¤ê³  í•  ìˆ˜ ìˆë‹¤.
ì–´ë–¤ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ë•Œ, ë„¤íŠ¸ì›Œí¬ìƒì˜ ëª¨ë“  ê°œë³„ ë…¸ë“œê°€ í•¨ìˆ˜ì˜ ì¶œë ¥ê°’ì„ ê²€ì¦í•˜ê¸° ìœ„í•´ ê·¸ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•´ì•¼ í•œë‹¤.

ëª¨ë“  í•¨ìˆ˜ì˜ ì‹¤í–‰ì„ ê²€ì¦í•˜ëŠ” ìˆ˜ì²œ ê°œì˜ ë…¸ë“œê°€ ë°”ë¡œ ì´ë”ë¦¬ì›€ì„ ë¶„ì‚°í™”í•˜ê³ , ë°ì´í„°ë¥¼ ë³´ì¡´í•˜ë©° ëˆ„êµ°ê°€ ê²€ì—´í•  ìˆ˜ ì—†ë„ë¡ í•˜ëŠ” ìš”ì†Œì´ë‹¤.

ì´ë”ë¦¬ì›€ì„ ë§Œë“  ì‚¬ëŒë“¤ì€ ëˆ„êµ°ê°€ê°€ ë¬´í•œ ë°˜ë³µë¬¸ì„ ì¨ì„œ ë„¤íŠ¸ì›Œí¬ë¥¼ ë°©í•´í•˜ê±°ë‚˜, ìì› ì†Œëª¨ê°€ í° ì—°ì‚°ì„ ì¨ì„œ ë„¤íŠ¸ì›Œí¬ ìì›ì„ ëª¨ë‘ ì‚¬ìš©í•˜ì§€ ëª»í•˜ë„ë¡ ë§Œë“¤ê¸¸ ì›í–ˆë‹¤. 
ê·¸ë˜ì„œ ê·¸ë“¤ì€ ì—°ì‚° ì²˜ë¦¬ì— ë¹„ìš©ì´ ë“¤ë„ë¡ ë§Œë“¤ì—ˆê³ , ì‚¬ìš©ìë“¤ì€ ì €ì¥ ê³µê°„ ë¿ë§Œ ì•„ë‹ˆë¼ ì—°ì‚° ì‚¬ìš© ì‹œê°„ì— ë”°ë¼ì„œë„ ë¹„ìš©ì„ ì§€ë¶ˆí•´ì•¼ í•œë‹¤

> ì°¸ê³ : ì‚¬ì´ë“œì²´ì¸ì—ì„œëŠ” ë°˜ë“œì‹œ ì´ë ‡ì§€ëŠ” ì•Šë‹¤.

ì´ë”ë¦¬ì›€ ë©”ì¸ë„·ì—ì„œ ì›”ë“œ ì˜¤ë¸Œ ì›Œí¬ë˜í”„íŠ¸ ê°™ì€ ê²Œì„ì„ ì§ì ‘ì ìœ¼ë¡œ ëŒë¦¬ëŠ” ê²ƒì€ ì ˆëŒ€ ë§ì´ ë˜ì§€ ì•Šì„ ê²ƒì´ë‹¤.
ê°€ìŠ¤ ë¹„ìš©ì´ ì—„ì²­ë‚˜ê²Œ ë†’ì„ ê²ƒì´ê¸° ë•Œë¬¸ì´ì§€. í•˜ì§€ë§Œ ë‹¤ë¥¸ í•©ì˜ ì•Œê³ ë¦¬ì¦˜ì„ ê°€ì§„ ì‚¬ì´ë“œì²´ì¸ì—ì„œëŠ” ê°€ëŠ¥í•  ìˆ˜ ìˆë‹¤.

### ê°€ìŠ¤ë¥¼ ì•„ë¼ê¸° ìœ„í•œ êµ¬ì¡°ì²´ ì••ì¶•
uintì— ë‹¤ë¥¸íƒ€ì…ë“¤ uint8, uint16, uintê°€ ìˆì§€ë§Œ,
ê¸°ë³¸ì ìœ¼ë¡œëŠ” ì´ëŸ° í•˜ìœ„ íƒ€ì…ë“¤ì„ ì“°ëŠ” ê²ƒì€ ì•„ë¬´ëŸ° ì´ë“ì´ ì—†ë‹¤. ì™œëƒí•˜ë©´ ì†”ë¦¬ë””í‹°ì—ì„œëŠ” uintì˜ í¬ê¸°ì— ìƒê´€ì—†ì´ 256ë¹„íŠ¸ì˜ ì €ì¥ ê³µê°„ì„ ë¯¸ë¦¬ ì¡ì•„ë†“ê¸° ë•Œë¬¸ì´ë‹¤.

\* ì˜ˆë¥¼ ë“¤ìë©´, uint(uint256) ëŒ€ì‹ ì— uint8ì„ ì“°ëŠ” ê²ƒì€ ê°€ìŠ¤ ì†Œëª¨ë¥¼ ì¤„ì´ëŠ” ë°ì— ì•„ë¬´ ì˜í–¥ì´ ì—†ë‹¤.

í•˜ì§€ë§Œ ì—¬ê¸°ì— ì˜ˆì™¸ê°€ í•˜ë‚˜ ìˆë‹¤. ë°”ë¡œ structì˜ ì•ˆ

ë§Œì•½ êµ¬ì¡°ì²´ ì•ˆì— ì—¬ëŸ¬ ê°œì˜ uintë¥¼ ë§Œë“ ë‹¤ë©´, ê°€ëŠ¥í•œ ë” ì‘ì€ í¬ê¸°ì˜ uintë¥¼ ì¨ì•¼í•¨.
ì†”ë¦¬ë””í‹°ì—ì„œ ê·¸ ë³€ìˆ˜ë“¤ì„ ë” ì ì€ ê³µê°„ì„ ì°¨ì§€í•˜ë„ë¡ ì••ì¶•í•  ê²ƒ

```solidity
struct NormalStruct {
  uint a;
  uint b;
  uint c;
}

struct MiniMe {
  uint32 a;
  uint32 b;
  uint c;
}

// `mini`ëŠ” êµ¬ì¡°ì²´ ì••ì¶•ì„ í–ˆê¸° ë•Œë¬¸ì— `normal`ë³´ë‹¤ ê°€ìŠ¤ë¥¼ ì¡°ê¸ˆ ì‚¬ìš©í•  ê²ƒì´ë„¤.
NormalStruct normal = NormalStruct(10, 20, 30);
MiniMe mini = MiniMe(10, 20, 30); 
```

ì´ëŸ° ì´ìœ ë¡œ, êµ¬ì¡°ì²´ ì•ˆì—ì„œëŠ” ê°€ëŠ¥í•œ í•œ ì‘ì€ í¬ê¸°ì˜ ì •ìˆ˜ íƒ€ì…ì„ ì“°ëŠ” ê²ƒì´ ì¢‹ë‹¤.
ë˜í•œ ë™ì¼í•œ ë°ì´í„° íƒ€ì…ì€ í•˜ë‚˜ë¡œ ë¬¶ì–´ë†“ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì¦‰, êµ¬ì¡°ì²´ì—ì„œ ì„œë¡œ ì˜†ì— ìˆë„ë¡ ì„ ì–¸í•˜ë©´ ì†”ë¦¬ë””í‹°ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì €ì¥ ê³µê°„ì„ ìµœì†Œí™”í•œë‹¤.
ì˜ˆë¥¼ ë“¤ë©´, uint c; uint32 a; uint32 b;ë¼ëŠ” í•„ë“œë¡œ êµ¬ì„±ëœ êµ¬ì¡°ì²´ê°€ uint32 a; uint c; uint32 b; í•„ë“œë¡œ êµ¬ì„±ëœ êµ¬ì¡°ì²´ë³´ë‹¤ ê°€ìŠ¤ë¥¼ ëœ ì†Œëª¨í•œë‹¤.
uint32 í•„ë“œê°€ ë¬¶ì—¬ìˆê¸° ë•Œë¬¸

## ì‹œê°„ ë‹¨ìœ„ (Time units)

ì†”ë¦¬ë””í‹°ëŠ” ì‹œê°„ì„ ë‹¤ë£° ìˆ˜ ìˆëŠ” ë‹¨ìœ„ê³„ë¥¼ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µ

now ë³€ìˆ˜ë¥¼ ì“°ë©´ í˜„ì¬ì˜ ìœ ë‹‰ìŠ¤ íƒ€ì„ìŠ¤íƒ¬í”„(1970ë…„ 1ì›” 1ì¼ë¶€í„° ì§€ê¸ˆê¹Œì§€ì˜ ì´ˆ ë‹¨ìœ„ í•©) ê°’ì„ ì–»ì„ ìˆ˜ ìˆë‹¤.

> ì°¸ê³  : ìœ ë‹‰ìŠ¤ íƒ€ì„ì€ ì „í†µì ìœ¼ë¡œ 32ë¹„íŠ¸ ìˆ«ìë¡œ ì €ì¥ë¨. 

ì´ëŠ” ìœ ë‹‰ìŠ¤ íƒ€ì„ìŠ¤íƒ¬í”„ ê°’ì´ 32ë¹„íŠ¸ë¡œ í‘œì‹œê°€ ë˜ì§€ ì•Šì„ ë§Œí¼ ì»¤ì¡Œì„ ë•Œ ë§ì€ êµ¬í˜• ì‹œìŠ¤í…œì— ë¬¸ì œê°€ ë°œìƒí•  "Year 2038" ë¬¸ì œë¥¼ ì¼ìœ¼í‚¬ ê²ƒ
ê·¸ëŸ¬ë‹ˆ ë§Œì•½ ìš°ë¦¬ DAppì´ ì§€ê¸ˆë¶€í„° 20ë…„ ì´ìƒ ìš´ì˜ë˜ê¸¸ ì›í•œë‹¤ë©´, ìš°ë¦¬ëŠ” 64ë¹„íŠ¸ ìˆ«ìë¥¼ ì¨ì•¼ í•  ê²ƒì´ë‹¤.
í•˜ì§€ë§Œ ìš°ë¦¬ ìœ ì €ë“¤ì€ ê·¸ë™ì•ˆ ë” ë§ì€ ê°€ìŠ¤ë¥¼ ì†Œëª¨í•´ì•¼ í•˜ëŠ” ë¬¸ì œ ì¡´ì¬. ì„¤ê³„ë¥¼ ë³´ê³  ê²°ì •ì„ í•´ì•¼ í•¨.

ì†”ë¦¬ë””í‹°ëŠ” ë˜í•œ seconds, minutes, hours, days, weeks, years ê°™ì€ ì‹œê°„ ë‹¨ìœ„ ë˜í•œ í¬í•¨í•˜ê³  ìˆìŒ.

ì´ë“¤ì€ ê·¸ì— í•´ë‹¹í•˜ëŠ” ê¸¸ì´ ë§Œí¼ì˜ ì´ˆ ë‹¨ìœ„ uint ìˆ«ìë¡œ ë³€í™˜ë¨.
example)
1 minutes = 60
1 hours = 3600
1 days = 86400

```
uint lastUpdated;

// `lastUpdated`ë¥¼ `now`ë¡œ ì„¤ì •
function updateTimestamp() public {
  lastUpdated = now;
}

// ë§ˆì§€ë§‰ìœ¼ë¡œ `updateTimestamp`ê°€ í˜¸ì¶œëœ ë’¤ 5ë¶„ì´ ì§€ë‚¬ìœ¼ë©´ `true`ë¥¼, 5ë¶„ì´ ì•„ì§ ì§€ë‚˜ì§€ ì•Šì•˜ìœ¼ë©´ `false`ë¥¼ ë°˜í™˜
function fiveMinutesHavePassed() public view returns (bool) {
  return (now >= (lastUpdated + 5 minutes));
}
```
> ì°¸ê³  : nowê°€ ê¸°ë³¸ì ìœ¼ë¡œ uint256ì„ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì—, uint32(...)ë¡œ ë³€í™˜ì´ í•„ìˆ˜ì ì´ë‹¤.
ì´ë ‡ê²Œ í•¨ìœ¼ë¡œì¨ í•´ë‹¹ ë°ì´í„°ë¥¼ uint32ë¡œ ëª…ì‹œì ìœ¼ë¡œ ë³€í™˜í•¨.
example ) uint32(now + 1 days)

##êµ¬ì¡°ì²´ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬í•˜ê¸°
 private ë˜ëŠ” internal í•¨ìˆ˜ì— ì¸ìˆ˜ë¡œì„œ êµ¬ì¡°ì²´ì˜ storage í¬ì¸í„°ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.
 ```solidity
 function _doStuff(Zombie storage _zombie) internal {
  // _zombieë¡œ í•  ìˆ˜ ìˆëŠ” ê²ƒë“¤ì„ ì²˜ë¦¬
}
 ```
í•¨ìˆ˜ì— ì¢€ë¹„ IDë¥¼ ì „ë‹¬í•˜ê³  ì¢€ë¹„ë¥¼ ì°¾ëŠ” ëŒ€ì‹ , ì¢€ë¹„ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.

## Public í•¨ìˆ˜ & ë³´ì•ˆ
ëª¨ë“  publicê³¼ external í•¨ìˆ˜ë¥¼ ê²€ì‚¬ í•„ìš”

í•¨ìˆ˜ë“¤ì´ onlyOwner ê°™ì€ ì œì–´ìë¥¼ ê°–ì§€ ì•ŠëŠ” ì´ìƒ, ì–´ë–¤ ì‚¬ìš©ìë“  ì´ í•¨ìˆ˜ë“¤ì„ í˜¸ì¶œí•˜ê³  ìì‹ ë“¤ì´ ì›í•˜ëŠ” ëª¨ë“  ë°ì´í„°ë¥¼ í•¨ìˆ˜ì— ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.

ë‚¨ìš©ì„ ë§‰ì„ ê°€ì¥ ì‰¬ìš´ ë°©ë²•ì€ internalë¡œ ë§Œë“œëŠ” ê²ƒ

## í•¨ìˆ˜ ì œì–´ìì˜ ë˜ ë‹¤ë¥¸ íŠ¹ì§•

### ì¸ìˆ˜ë¥¼ ê°€ì§€ëŠ” í•¨ìˆ˜ ì œì–´ì

```solidity
// ì‚¬ìš©ìì˜ ë‚˜ì´ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•œ ë§¤í•‘
mapping (uint => uint) public age;

// ì‚¬ìš©ìê°€ íŠ¹ì • ë‚˜ì´ ì´ìƒì¸ì§€ í™•ì¸í•˜ëŠ” ì œì–´ì
modifier olderThan(uint _age, uint _userId) {
  require (age[_userId] >= _age);
  _;
}

// ì°¨ë¥¼ ìš´ì „í•˜ê¸° ìœ„í–ì„œëŠ” 16ì‚´ ì´ìƒì´ì–´ì•¼ í•˜ë„¤(ì ì–´ë„ ë¯¸êµ­ì—ì„œëŠ”).
// `olderThan` ì œì–´ìë¥¼ ì¸ìˆ˜ì™€ í•¨ê»˜ í˜¸ì¶œí•˜ë ¤ë©´ ì´ë ‡ê²Œ í•˜ë©´ ë˜ë„¤:
function driveCar(uint _userId) public olderThan(16, _userId) {
  // í•„ìš”í•œ í•¨ìˆ˜ ë‚´ìš©ë“¤
}
```

## 'VIew' í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ ê°€ìŠ¤ ì ˆì•½í•˜ê¸°

í•¨ìˆ˜ê°€ ë¸”ë¡ì²´ì¸ì—ì„œ ë°ì´í„°ë¥¼ ì½ê¸°ë§Œ í•˜ë©´, view í•¨ìˆ˜ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ì´ ë¶€ë¶„ì€ ê°€ìŠ¤ ìµœì í™”ë¥¼ ë§í•  ë•Œ ê°€ì¥ ì¤‘ìš”í•œ ë‚´ìš©ì´ë‹¤

### View í•¨ìˆ˜ëŠ” ê°€ìŠ¤ë¥¼ ì†Œëª¨í•˜ì§€ ì•ŠëŠ”ë‹¤.

view í•¨ìˆ˜ëŠ” ì‚¬ìš©ìì— ì˜í•´ ì™¸ë¶€ì—ì„œ í˜¸ì¶œë˜ì—ˆì„ ë•Œ ê°€ìŠ¤ë¥¼ ì „í˜€ ì†Œëª¨í•˜ì§€ ì•ŠëŠ”ë‹¤.
ì´ê±´ view í•¨ìˆ˜ê°€ ë¸”ë¡ì²´ì¸ ìƒì—ì„œ ì‹¤ì œë¡œ ì–´ë–¤ ê²ƒë„ ìˆ˜ì •í•˜ì§€ ì•Šê¸° ë–„ë¬¸ - ë°ì´í„°ë¥¼ ì½ê¸°ë§Œ í•¨.

ê·¸ëŸ¬ë‹ˆ í•¨ìˆ˜ì— view í‘œì‹œë¥¼ í•˜ëŠ” ê²ƒì€ web3.jsì— ì´ë ‡ê²Œ ë§í•˜ëŠ” ê²ƒê³¼ ê°™ë‹¤. 
"ì´ í•¨ìˆ˜ëŠ” ì‹¤í–‰í•  ë•Œ ìë„¤ ë¡œì»¬ ì´ë”ë¦¬ì›€ ë…¸ë“œì— ì§ˆì˜ë§Œ ë‚ ë¦¬ë©´ ë˜ê³ , ë¸”ë¡ì²´ì¸ì— ì–´ë–¤ íŠ¸ëœì­ì…˜ë„ ë§Œë“¤ì§€ ì•Šì•„"
-> íŠ¸ëœì­ì…˜ì€ ëª¨ë“  ê°œë³„ ë…¸ë“œì—ì„œ ì‹¤í–‰ë˜ì–´ì•¼ í•˜ê³ , ê°€ìŠ¤ë¥¼ ì†Œëª¨í•¨.

\* ì§€ê¸ˆì€ ìë„¤ê°€ ì‚¬ìš©ìë“¤ì„ ìœ„í•´ DAppì˜ ê°€ìŠ¤ ì‚¬ìš©ì„ ìµœì í™”í•˜ëŠ” ë¹„ê²°ì€ ê°€ëŠ¥í•œ ëª¨ë“  ê³³ì— ì½ê¸° ì „ìš©ì˜ external view í•¨ìˆ˜ë¥¼ ì“°ëŠ” ê²ƒì´ë¼ëŠ” ê²ƒë§Œ ëª…ì‹¬

> ì°¸ê³  : ë§Œì•½ view í•¨ìˆ˜ê°€ ë™ì¼ Contract ë‚´ì— ìˆëŠ”, view í•¨ìˆ˜ê°€ ì•„ë‹Œ ë‹¤ë¥¸ í•¨ìˆ˜ì—ì„œ ë‚´ë¶€ì ìœ¼ë¡œ í˜¸ì¶œë  ê²½ìš°, ì—¬ì „íˆ ê°€ìŠ¤ë¥¼ ì†Œëª¨í•  ê²ƒ
ì´ê²ƒì€ ë‹¤ë¥¸ í•¨ìˆ˜ê°€ ì´ë”ë¦¬ì›€ì— íŠ¸ëœì­ì…˜ì„ ìƒì„±í•˜ê³ , ì´ëŠ” ëª¨ë“  ê°œë³„ ë…¸ë“œì—ì„œ ê²€ì¦ë˜ì–´ì•¼ í•˜ê¸° ë•Œë¬¸
** ê·¸ëŸ¬ë‹ˆ view í•¨ìˆ˜ëŠ” ì™¸ë¶€ì—ì„œ í˜¸ì¶œëì„ ë•Œì—ë§Œ ë¬´ë£Œ.

## StorageëŠ” ë¹„ì‹¸ë‹¤.

ì†”ë¦¬ë””í‹°ì—ì„œ ë” ë¹„ì‹¼ ì—°ì‚° ì¤‘ í•˜ë‚˜ëŠ” ë°”ë¡œ storageë¥¼ ì“°ëŠ” ê²ƒ - ê·¸ì¤‘ì—ì„œë„ ì“°ê¸° ì—°ì‚°

ì´ê±´ ìë„¤ê°€ ë°ì´í„°ì˜ ì¼ë¶€ë¥¼ ì“°ê±°ë‚˜ ë°”ê¿€ ë•Œë§ˆë‹¤, ë¸”ë¡ì²´ì¸ì— ì˜êµ¬ì ìœ¼ë¡œ ê¸°ë¡ë˜ê¸° ë•Œë¬¸ì´ë‹¤.

ì˜ì›íˆ! ì§€êµ¬ìƒì˜ ìˆ˜ì²œ ê°œì˜ ë…¸ë“œë“¤ì´ ê·¸ë“¤ì˜ í•˜ë“œ ë“œë¼ì´ë¸Œì— ê·¸ ë°ì´í„°ë¥¼ ì €ì¥í•´ì•¼ í•˜ê³ , ë¸”ë¡ì²´ì¸ì´ ì»¤ì ¸ê°€ë©´ì„œ ì´ ë°ì´í„°ì˜ ì–‘ ë˜í•œ ê°™ì´ ì»¤ì ¸ê°„ã„·.. ê·¸ëŸ¬ë‹ˆ ì´ ì—°ì‚°ì—ëŠ” ë¹„ìš©ì´ ë“ ë‹¤.

ë¹„ìš©ì„ ìµœì†Œí™”í•˜ê¸° ìœ„í•´ì„œ, ì§„ì§œ í•„ìš”í•œ ê²½ìš°ê°€ ì•„ë‹ˆë©´ storageì— ë°ì´í„°ë¥¼ ì“°ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ë‹¤. ì´ë¥¼ ìœ„í•´ ë•Œë•Œë¡œëŠ” ê²‰ë³´ê¸°ì— ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ë³´ì´ëŠ” í”„ë¡œê·¸ë˜ë° êµ¬ì„±ì„ í•  í•„ìš”ê°€ ìˆë‹¤
-> ì–´ë–¤ ë°°ì—´ì—ì„œ ë‚´ìš©ì„ ë¹ ë¥´ê²Œ ì°¾ê¸° ìœ„í•´, ë‹¨ìˆœíˆ ë³€ìˆ˜ì— ì €ì¥í•˜ëŠ” ê²ƒ ëŒ€ì‹  í•¨ìˆ˜ê°€ í˜¸ì¶œë  ë•Œë§ˆë‹¤ ë°°ì—´ì„ memoryì— ë‹¤ì‹œ ë§Œë“œëŠ” ê²ƒì²˜ëŸ¼

\* ëŒ€ë¶€ë¶„ì˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì—ì„œëŠ”, í° ë°ì´í„° ì§‘í•©ì˜ ê°œë³„ ë°ì´í„°ì— ëª¨ë‘ ì ‘ê·¼í•˜ëŠ” ê²ƒì€ ë¹„ìš©ì´ ë¹„ì‹¸ë‹¤.
í•˜ì§€ë§Œ, ì†”ë¦¬ë””í‹°ì—ì„œëŠ” ê·¸ ì ‘ê·¼ì´ external view í•¨ìˆ˜ë¼ë©´ storageë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒë³´ë‹¤ ë” ì €ë ´í•œ ë°©ë²•ì´ë‹¤.

view í•¨ìˆ˜ëŠ” ì‚¬ìš©ìë“¤ì˜ ê°€ìŠ¤ë¥¼ ì†Œëª¨í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì´ì§€(ê°€ìŠ¤ëŠ” ì‚¬ìš©ìë“¤ì´ ì§„ì§œ ëˆì„ ì“°ëŠ” ê²ƒì´ë‹¤!)

### ë©”ëª¨ë¦¬ì— ë°°ì—´ ì„ ì–¸í•˜ê¸°

Storageì— ì•„ë¬´ê²ƒë„ ì“°ì§€ ì•Šê³ ë„ í•¨ìˆ˜ ì•ˆì— ìƒˆë¡œìš´ ë°°ì—´ì„ ë§Œë“¤ë ¤ë©´ ë°°ì—´ì— memory í‚¤ì›Œë“œë¥¼ ì“°ë©´ ëœë‹¤.
ì´ ë°°ì—´ì€ í•¨ìˆ˜ê°€ ëë‚  ë•Œê¹Œì§€ë§Œ ì¡´ì¬í•  ê²ƒì´ê³ , ì´ëŠ” storageì˜ ë°°ì—´ì„ ì§ì ‘ ì—…ë°ì´íŠ¸í•˜ëŠ” ê²ƒë³´ë‹¤ ê°€ìŠ¤ ì†Œëª¨ ì¸¡ë©´ì—ì„œ í›¨ì”¬ ì €ë ´í•˜ë‹¤.
-> ì™¸ë¶€ì—ì„œ í˜¸ì¶œë˜ëŠ” view í•¨ìˆ˜ë¼ë©´ ë¬´ë£Œ

```solidity
function getArray() external pure returns(uint[]) {
  // ë©”ëª¨ë¦¬ì— ê¸¸ì´ 3ì˜ ìƒˆë¡œìš´ ë°°ì—´ì„ ìƒì„±í•œë‹¤.
  uint[] memory values = new uint[](3);
  // ì—¬ê¸°ì— íŠ¹ì •í•œ ê°’ë“¤ì„ ë„£ëŠ”ë‹¤.
  values.push(1);
  values.push(2);
  values.push(3);
  // í•´ë‹¹ ë°°ì—´ì„ ë°˜í™˜í•œë‹¤.
  return values;
}
```

> ì°¸ê³  : ë©”ëª¨ë¦¬ ë°°ì—´ì€ ë°˜ë“œì‹œ ê¸¸ì´ ì¸ìˆ˜ì™€ í•¨ê»˜ ìƒì„±ë˜ì–´ì•¼ í•œë‹¤.
ë©”ëª¨ë¦¬ ë°°ì—´ì€ í˜„ì¬ë¡œì„œëŠ” storage ë°°ì—´ì²˜ëŸ¼ array.push()ë¡œ í¬ê¸°ê°€ ì¡°ì ˆë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.
ì´í›„ ë²„ì „ì˜ ì†”ë¦¬ë””í‹°ì—ì„œëŠ” ë³€ê²½ë ìˆ˜ ë„ ìˆìŒ. 

## ë°˜ë³µë¬¸

í•¨ìˆ˜ ë‚´ì—ì„œ ë°°ì—´ì„ ë‹¤ë£° ë•Œ, ê·¸ëƒ¥ storageì— í•´ë‹¹ ë°°ì—´ì„ ì €ì¥í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ for ë°˜ë³µë¬¸ì„ ì‚¬ìš©í•´ì„œ êµ¬ì„±í•´ì•¼ í•  ë•Œê°€ ìˆì„ ê²ƒì´ë‹¤.

```
mapping (address => uint[]) public ownerToZombies;

function getZombiesByOwner(address _owner) external view returns (uint[]) {
  return ownerToZombies[_owner];
}
```
forë¬¸ì„ ì“°ì§€ ì•Šê³  ë§¤í•‘ì„ ì‚¬ìš©í•˜ë©´, ì´ëŸ¬í•œ ì ‘ê·¼ ë°©ë²•ì€ êµ¬í˜„ì˜ ê°„ë‹¨í•¨ ë•Œë¬¸ì— ë§¤ë ¥ì ìœ¼ë¡œ ë³´ì¸ë‹¤.

í•˜ì§€ë§Œ ë§Œì•½ ë‚˜ì¤‘ì— í•œ ì¢€ë¹„ë¥¼ ì›ë˜ ì†Œìœ ìì—ì„œ ë‹¤ë¥¸ ì‚¬ëŒì—ê²Œ ì „ë‹¬í•˜ëŠ” í•¨ìˆ˜ë¥¼ êµ¬í˜„í•˜ê²Œ ëœë‹¤ë©´..?

ì¢€ë¹„ ì „ë‹¬ í•¨ìˆ˜ëŠ” ì´ëŸ° ë‚´ìš©ì´ í•„ìš”í•  ê²ƒì´ë‹¤

1. ì „ë‹¬í•  ì¢€ë¹„ë¥¼ ìƒˆë¡œìš´ ì†Œìœ ìì˜ ownerToZombies ë°°ì—´ì— ë„£ëŠ”ë‹¤.
2. ê¸°ì¡´ ì†Œìœ ìì˜ ownerToZombies ë°°ì—´ì—ì„œ í•´ë‹¹ ì¢€ë¹„ë¥¼ ì§€ìš´ë‹¤.
3. ì¢€ë¹„ê°€ ì§€ì›Œì§„ êµ¬ë©ì„ ë©”ìš°ê¸° ìœ„í•´ ê¸°ì¡´ ì†Œìœ ìì˜ ë°°ì—´ì—ì„œ ëª¨ë“  ì¢€ë¹„ë¥¼ í•œ ì¹¸ì”© ì›€ì§ì¸ë‹¤.
4. ë°°ì—´ì˜ ê¸¸ì´ë¥¼ 1 ì¤„ì¸ë‹¤.

3ë²ˆì§¸ ë‹¨ê³„ëŠ” ê·¹ë‹¨ì ìœ¼ë¡œ ê°€ìŠ¤ ì†Œëª¨ê°€ ë§ì„ ê²ƒì´ë‹¤. ì™œëƒí•˜ë©´ ìœ„ì¹˜ë¥¼ ë°”ê¾¼ ëª¨ë“  ì¢€ë¹„ì— ëŒ€í•´ ì“°ê¸° ì—°ì‚°ì„ í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤.
-> ì†Œìœ ìê°€ 20ë§ˆë¦¬ì˜ ì¢€ë¹„ë¥¼ ê°€ì§€ê³  ìˆê³  ì²« ë²ˆì§¸ ì¢€ë¹„ë¥¼ ê±°ë˜í•œë‹¤ë©´, ë°°ì—´ì˜ ìˆœì„œë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•´ ìš°ë¦° 19ë²ˆì˜ ì“°ê¸°ë¥¼ í•´ì•¼ í•  ê²ƒ

ì†”ë¦¬ë””í‹°ì—ì„œ storageì— ì“°ëŠ” ê²ƒì€ ê°€ì¥ ë¹„ìš©ì´ ë†’ì€ ì—°ì‚° ì¤‘ í•˜ë‚˜ì´ê¸° ë•Œë¬¸ì—, ì´ ì „ë‹¬ í•¨ìˆ˜ì— ëŒ€í•œ ëª¨ë“  í˜¸ì¶œì€ ê°€ìŠ¤ ì¸¡ë©´ì—ì„œ êµ‰ì¥íˆ ë¹„ì‹¸ê²Œ ë  ê²ƒ
ë” ì•ˆ ì¢‹ì€ ì ì€, ì´ í•¨ìˆ˜ê°€ ì‹¤í–‰ë  ë•Œë§ˆë‹¤ ë‹¤ë¥¸ ì–‘ì˜ ê°€ìŠ¤ë¥¼ ì†Œëª¨í•  ê²ƒì´ë¼ëŠ” ì .
ì‚¬ìš©ìê°€ ìì‹ ì˜ êµ°ëŒ€ì— ì–¼ë§ˆë‚˜ ë§ì€ ì¢€ë¹„ë¥¼ ê°€ì§€ê³  ìˆëŠ”ì§€, ë˜ ê±°ë˜ë˜ëŠ” ì¢€ë¹„ì˜ ì¸ë±ìŠ¤ì— ë”°ë¼ ë‹¬ë¼ì§. ì¦‰ ì‚¬ìš©ìë“¤ì€ ê±°ë˜ì— ê°€ìŠ¤ë¥¼ ì–¼ë§ˆë‚˜ ì“°ê²Œ ë ì§€ ì•Œ ìˆ˜ ì—†ê²Œ ë¨

> ì°¸ê³ : ë¬¼ë¡ , ë¹ˆ ìë¦¬ë¥¼ ì±„ìš°ê¸° ìœ„í•´ ë§ˆì§€ë§‰ ì¢€ë¹„ë¥¼ ì›€ì§ì¸ ë‹¤ìŒ, ë°°ì—´ì˜ ê¸¸ì´ë¥¼ í•˜ë‚˜ ì¤„ì—¬ë„ ë˜ê² ì§€. í•˜ì§€ë§Œ ê·¸ë ‡ê²Œ í•˜ë©´ êµí™˜ì´ ì¼ì–´ë‚  ë•Œë§ˆë‹¤ ì¢€ë¹„ êµ°ëŒ€ì˜ ìˆœì„œê°€ ë°”ë€Œê²Œ ë  ê²ƒ

view í•¨ìˆ˜ëŠ” ì™¸ë¶€ì—ì„œ í˜¸ì¶œë  ë•Œ ê°€ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—, ìš°ë¦° getZombiesByOwner í•¨ìˆ˜ì—ì„œ for ë°˜ë³µë¬¸ì„ ì‚¬ìš©í•´ì„œ ì¢€ë¹„ ë°°ì—´ì˜ ëª¨ë“  ìš”ì†Œì— ì ‘ê·¼í•œ í›„ 
íŠ¹ì • ì‚¬ìš©ìì˜ ì¢€ë¹„ë“¤ë¡œ êµ¬ì„±ëœ ë°°ì—´ì„ ë§Œë“¤ ìˆ˜ ìˆì„ ê²ƒ.

ê·¸ëŸ¬ê³  ë‚˜ë©´, transfer í•¨ìˆ˜ëŠ” í›¨ì”¬ ë¹„ìš©ì„ ì ê²Œ ì“°ê²Œ ë  ê²ƒì´ë‹¤.
ì™œëƒí•˜ë©´ storageì—ì„œ ì–´ë–¤ ë°°ì—´ë„ ì¬ì •ë ¬í•  í•„ìš”ê°€ ì—†ê¸° ë–„ë¬¸ì´ë‹¤.
-> ì¼ë°˜ì ì¸ ì§ê´€ê³¼ëŠ” ë°˜ëŒ€ë¡œ ì´ëŸ° ì ‘ê·¼ë²•ì´ ì „ì²´ì ìœ¼ë¡œ ë¹„ìš© ì†Œëª¨ê°€ ë” ì ë‹¤

### for ë°˜ë³µë¬¸ ì‚¬ìš©í•˜ê¸°
```
// ì´ í•¨ìˆ˜ëŠ” [2, 4, 6, 8, 10]ë¥¼ ê°€ì§€ëŠ” ë°°ì—´ì„ ë°˜í™˜
function getEvens() pure external returns(uint[]) {
  uint[] memory evens = new uint[](5);
  // ìƒˆë¡œìš´ ë°°ì—´ì˜ ì¸ë±ìŠ¤ë¥¼ ì¶”ì í•˜ëŠ” ë³€ìˆ˜
  uint counter = 0;
  // for ë°˜ë³µë¬¸ì—ì„œ 1ë¶€í„° 10ê¹Œì§€ ë°˜ë³µí•¨
  for (uint i = 1; i <= 10; i++) {
    // `i`ê°€ ì§ìˆ˜ë¼ë©´...
    if (i % 2 == 0) {
      // ë°°ì—´ì— ië¥¼ ì¶”ê°€í•¨
      evens[counter] = i;
      // `evens`ì˜ ë‹¤ìŒ ë¹ˆ ì¸ë±ìŠ¤ ê°’ìœ¼ë¡œ counterë¥¼ ì¦ê°€ì‹œí‚´
      counter++;
    }
  }
  return evens;
}
```

### payable

#### í•¨ìˆ˜ ì œì–´ì(function modifier) ì •ë¦¬
í•¨ìˆ˜ê°€ ì–¸ì œ, ì–´ë””ì„œ í˜¸ì¶œë  ìˆ˜ ìˆëŠ”ì§€ ì œì–´í•˜ëŠ” ì ‘ê·¼ ì œì–´ì(visibility modifier)

- private : Contract ë‚´ë¶€ì˜ ë‹¤ë¥¸ í•¨ìˆ˜ë“¤ì—ì„œë§Œ í˜¸ì¶œë  ìˆ˜ ìˆìŒì„ ì˜ë¯¸
- internal : privateê³¼ ë¹„ìŠ·í•˜ì§€ë§Œ, í•´ë‹¹ ì»¨íŠ¸ë™íŠ¸ë¥¼ ìƒì†í•˜ëŠ” ì»¨íŠ¸ë™íŠ¸ì—ì„œë„ í˜¸ì¶œë  ìˆ˜ ìˆìŒ.
- external : ì˜¤ì§ ì»¨íŠ¸ë™íŠ¸ ì™¸ë¶€ì—ì„œë§Œ í˜¸ì¶œë  ìˆ˜ ìˆë‹¤.
- public : ë‚´ì™¸ë¶€ ëª¨ë‘ì—ì„œ, ì–´ë””ì„œë“  í˜¸ì¶œë  ìˆ˜ ìˆë‹¤.

#### ìƒíƒœ ì œì–´ì(state modifier) ì •ë¦¬

ì´ ì œì–´ìëŠ” ë¸”ë¡ì²´ì¸ê³¼ ìƒí˜¸ì‘ìš© í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œë ¤ì¤Œ.

- view : í•´ë‹¹ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•´ë„ ì–´ë–¤ ë°ì´í„°ë„ ì €ì¥/ë³€ê²½ë˜ì§€ ì•ŠìŒ
- pure : í•´ë‹¹ í•¨ìˆ˜ê°€ ì–´ë–¤ ë°ì´í„°ë„ ë¸”ë¡ì²´ì¸ì— ì €ì¥í•˜ì§€ ì•Šì„ ë¿ë§Œ ì•„ë‹ˆë¼, ë¸”ë¡ì²´ì¸ìœ¼ë¡œë¶€í„° ì–´ë–¤ ë°ì´í„°ë„ ì½ì§€ ì•ŠìŒ

* ì´ë“¤ ëª¨ë‘ëŠ” Contract ì™¸ë¶€ì—ì„œ ë¶ˆë ¸ì„ ë•Œ ê°€ìŠ¤ë¥¼ ì „í˜€ ì†Œëª¨í•˜ì§€ ì•ŠëŠ”ë‹¤ (í•˜ì§€ë§Œ ë‹¤ë¥¸ í•¨ìˆ˜ì— ì˜í•´ ë‚´ë¶€ì ìœ¼ë¡œ í˜¸ì¶œëì„ ê²½ìš°ì—ëŠ” ê°€ìŠ¤ë¥¼ ì†Œëª¨).

#### ì •ì˜ ì œì–´ì ì •ë¦¬

- onlyOwner : í•¨ìˆ˜ì— ì´ ì œì–´ìë“¤ì´ ì–´ë–»ê²Œ ì˜í–¥ì„ ì¤„ì§€ë¥¼ ê²°ì •í•˜ëŠ” ìš°ë¦¬ë§Œì˜ ë…¼ë¦¬ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤.

example)
```solidity
function test() external view onlyOwner anotherModifier { /* ... */ }
```

#### payable ì œì–´ì
payable í•¨ìˆ˜ëŠ” ì†”ë¦¬ë””í‹°ì™€ ì´ë”ë¦¬ì›€ì„ ì•„ì£¼ ë©‹ì§€ê²Œ ë§Œë“œëŠ” ê²ƒ ì¤‘ í•˜ë‚˜
-> ì´ë”ë¥¼ ë°›ì„ ìˆ˜ ìˆëŠ” íŠ¹ë³„í•œ í•¨ìˆ˜ ìœ í˜•

ìë„¤ê°€ ì¼ë°˜ì ì¸ ì›¹ ì„œë²„ì—ì„œ API í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ë•Œì—ëŠ”, í•¨ìˆ˜ í˜¸ì¶œì„ í†µí•´ì„œ US ë‹¬ëŸ¬ë¥¼ ë³´ë‚¼ ìˆ˜ ì—†ë‹¤. - ë¹„íŠ¸ì½”ì¸ë„ ë³´ë‚¼ ìˆ˜ ì—†ë‹¤

í•˜ì§€ë§Œ ì´ë”ë¦¬ì›€ì—ì„œëŠ”, ëˆ(_ì´ë”_), ë°ì´í„°(transaction payload), 
ê·¸ë¦¬ê³  Contract ì½”ë“œ ìì²´ ëª¨ë‘ ì´ë”ë¦¬ì›€ ìœ„ì— ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì—, í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ëŠ” ë™ì‹œì— Contractì— ëˆì„ ì§€ë¶ˆí•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤.

ì´ë¥¼ í†µí•´ êµ‰ì¥íˆ í¥ë¯¸ë¡œìš´ êµ¬ì„±ì„ ë§Œë“¤ì–´ë‚¼ ìˆ˜ ìˆë„¤. í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ ì»¨íŠ¸ë™íŠ¸ì— ì¼ì • ê¸ˆì•¡ì„ ì§€ë¶ˆí•˜ê²Œ í•˜ëŠ” ê²ƒê³¼ ê°™ì´ 
example)
```solidity
contract OnlineStore {
  function buySomething() external payable {
    // í•¨ìˆ˜ ì‹¤í–‰ì— 0.001ì´ë”ê°€ ë³´ë‚´ì¡ŒëŠ”ì§€ í™•ì‹¤íˆ í•˜ê¸° ìœ„í•´ í™•ì¸:
    require(msg.value == 0.001 ether);
    // ë³´ë‚´ì¡Œë‹¤ë©´, í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ ìì—ê²Œ ë””ì§€í„¸ ì•„ì´í…œì„ ì „ë‹¬í•˜ê¸° ìœ„í•œ ë‚´ìš© êµ¬ì„±:
    transferThing(msg.sender);
  }
}
```
ì—¬ê¸°ì„œ, msg.valueëŠ” Contractë¡œ ì´ë”ê°€ ì–¼ë§ˆë‚˜ ë³´ë‚´ì¡ŒëŠ”ì§€ í™•ì¸í•˜ëŠ” ë°©ë²•ì´ê³ , etherëŠ” ê¸°ë³¸ì ìœ¼ë¡œ í¬í•¨ëœ ë‹¨ìœ„ì´ë‹¤.

ì—¬ê¸°ì„œ ì¼ì–´ë‚˜ëŠ” ì¼ì€ ëˆ„êµ°ê°€ web3.js(DAppì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ í”„ë¡ íŠ¸ì—”ë“œ)ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ë•Œ ë°œìƒ
```solidity
// `OnlineStore`ëŠ” ìë„¤ì˜ ì´ë”ë¦¬ì›€ ìƒì˜ Contractë¥¼ ê°€ë¦¬í‚¨ë‹¤ê³  ê°€ì •:
OnlineStore.buySomething({from: web3.eth.defaultAccount, value: web3.utils.toWei(0.001)})
```

value í•„ë“œì—ì„œ. ìë°”ìŠ¤í¬ë¦½íŠ¸ í•¨ìˆ˜ í˜¸ì¶œì—ì„œ ì´ í•„ë“œë¥¼ í†µí•´ etherë¥¼ ì–¼ë§ˆë‚˜ ë³´ë‚¼ì§€ ê²°ì •í•¨(ì—¬ê¸°ì„œëŠ” 0.001).
íŠ¸ëœì­ì…˜ì„ ë´‰íˆ¬ë¡œ ìƒê°í•˜ê³ , í•¨ìˆ˜ í˜¸ì¶œì— ì „ë‹¬í•˜ëŠ” ë§¤ê°œ ë³€ìˆ˜ë¥¼ ì¨ë„£ì€ í¸ì§€ì˜ ë‚´ìš©ì´ë¼ ìƒê°í•œë‹¤ë©´, valueëŠ” ë´‰íˆ¬ ì•ˆì— í˜„ê¸ˆì„ ë„£ëŠ” ê²ƒê³¼ ê°™ë‹¤ - í¸ì§€ì™€ ëˆì´ ëª¨ë‘ ìˆ˜ë ¹ì¸ì—ê²Œ ì „ë‹¬ë¨

>ì°¸ê³ : ë§Œì•½ í•¨ìˆ˜ê°€ payableë¡œ í‘œì‹œë˜ì§€ ì•Šì•˜ëŠ”ë° ìœ„ì—ì„œ ë³¸ ê²ƒì²˜ëŸ¼ ì´ë”ë¥¼ ë³´ë‚´ë ¤ í•œë‹¤ë©´, í•¨ìˆ˜ì—ì„œ íŠ¸ëœì­ì…˜ì„ ê±°ë¶€í•  ê²ƒì´ë‹¤.

## ì¶œê¸ˆ
Contractë¡œ ì´ë”ë¥¼ ë³´ë‚´ë©´, í•´ë‹¹ Contractì˜ ì´ë”ë¦¬ì›€ ê³„ì¢Œì— ì´ë”ê°€ ì €ì¥ë˜ê³  ê±°ê¸°ì— ê°‡íˆê²Œ ëœë‹¤. - Contractë¶€í„° ì´ë”ë¥¼ ì¸ì¶œí•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì§€ ì•ŠëŠ”ë‹¤ë©´ 

ë‹¤ìŒê³¼ ê°™ì´ Contractì—ì„œ ì´ë”ë¥¼ ì¸ì¶œí•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.
```solididy
contract GetPaid is Ownable {
  function withdraw() external onlyOwner {
    owner.transfer(this.balance);
  }
}
```
transfer í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œ ì´ë”ë¥¼ íŠ¹ì • ì£¼ì†Œë¡œ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.
ê·¸ë¦¬ê³  this.balanceëŠ” ì»¨íŠ¸ë™íŠ¸ì— ì €ì¥ë¼ìˆëŠ” ì „ì²´ ì”ì•¡ì„ ë°˜í™˜í•¨.

ê·¸ëŸ¬ë‹ˆ 100ëª…ì˜ ì‚¬ìš©ìê°€ ìš°ë¦¬ì˜ ì»¨íŠ¸ë™íŠ¸ì— 1ì´ë”ë¥¼ ì§€ë¶ˆí–ˆë‹¤ë©´, this.balanceëŠ” 100ì´ë”ê°€ ë  ê²ƒ
transfer í•¨ìˆ˜ë¥¼ ì¨ì„œ íŠ¹ì •í•œ ì´ë”ë¦¬ì›€ ì£¼ì†Œì— ëˆì„ ë³´ë‚¼ ìˆ˜ ìˆë„¤. ì˜ˆë¥¼ ë“¤ì–´, ë§Œì•½ ëˆ„êµ°ê°€ í•œ ì•„ì´í…œì— ëŒ€í•´ ì´ˆê³¼ ì§€ë¶ˆì„ í–ˆë‹¤ë©´, ì´ë”ë¥¼ msg.senderë¡œ ë˜ëŒë ¤ì£¼ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ ìˆ˜ë„ ìˆë‹¤.

```solidity
uint itemFee = 0.001 ether;
msg.sender.transfer(msg.value - itemFee);
```
í˜¹ì€ êµ¬ë§¤ìì™€ íŒë§¤ìê°€ ì¡´ì¬í•˜ëŠ” ì»¨íŠ¸ë™íŠ¸ì—ì„œ, íŒë§¤ìì˜ ì£¼ì†Œë¥¼ storageì— ì €ì¥í•˜ê³ , 
ëˆ„êµ°ê°€ íŒë§¤ìì˜ ì•„ì´í…œì„ êµ¬ë§¤í•˜ë©´ êµ¬ë§¤ìë¡œë¶€í„° ë°›ì€ ìš”ê¸ˆì„ ê·¸ì—ê²Œ ì „ë‹¬í•  ìˆ˜ë„ ìˆë‹¤.

```
seller.transfer(msg.value)
```
ì´ëŸ° ê²ƒë“¤ì´ ì´ë”ë¦¬ì›€ í”„ë¡œê·¸ë˜ë°ì„ ì•„ì£¼ ë©‹ì§€ê²Œ ë§Œë“¤ì–´ì£¼ëŠ” ì˜ˆì‹œì´ë‹¤. - ìë„¤ëŠ” ì´ê²ƒì²˜ëŸ¼ ëˆ„êµ¬ì—ê²Œë„ ì œì–´ë˜ì§€ ì•ŠëŠ” ë¶„ì‚° ì¥í„°ë“¤ì„ ë§Œë“¤ ìˆ˜ë„ ìˆë‹¤.

## ë‚œìˆ˜ (Random Numbers)

ì¼ì • ìˆ˜ì¤€ì˜ ë¬´ì‘ìœ„ì„±ì„ í•„ìš”ë¡œ í•œë‹¤. ê·¸ëŸ¼ ì†”ë¦¬ë””í‹°ì—ì„œëŠ” ì–´ë–»ê²Œ ë‚œìˆ˜ë¥¼ ë°œìƒ ì‹œí‚¤ê² ëŠ”ê°€?

ì§„ì •í•œ ë‹µì€, í•  ìˆ˜ ì—†ë‹¤. ê¸€ì„, ì ì–´ë„ ì•ˆì „í•˜ê²Œ í•  ìˆ˜ëŠ” ì—†ë‹¤.

### keccak256ì„ í†µí•œ ë‚œìˆ˜ ìƒì„±
ì†”ë¦¬ë””í‹°ì—ì„œ ë‚œìˆ˜ë¥¼ ë§Œë“¤ê¸°ì— ê°€ì¥ ì¢‹ì€ ë°©ë²•ì€ keccak256 í•´ì‹œ í•¨ìˆ˜ë¥¼ ì“°ëŠ” ê²ƒ

```solidity
// Generate a random number between 1 and 100:
uint randNonce = 0;
uint random = uint(keccak256(now, msg.sender, randNonce)) % 100;
randNonce++;
uint random2 = uint(keccak256(now, msg.sender, randNonce)) % 100;
```
ì´ ì½”ë“œëŠ” nowì˜ íƒ€ì„ìŠ¤íƒ¬í”„ ê°’, msg.sender, ì¦ê°€í•˜ëŠ” nonce(ë”± í•œ ë²ˆë§Œ ì‚¬ìš©ë˜ëŠ” ìˆ«ì, ì¦‰ ë˜‘ê°™ì€ ì…ë ¥ìœ¼ë¡œ ë‘ ë²ˆ ì´ìƒ ë™ì¼í•œ í•´ì‹œ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ìˆ˜ ì—†ê²Œ í•¨)ë¥¼ ë°›ê³  ìˆë‹¤.

ê·¸ë¦¬ê³ ì„œ keccakì„ ì‚¬ìš©í•˜ì—¬ ì´ ì…ë ¥ë“¤ì„ ì„ì˜ì˜ í•´ì‹œ ê°’ìœ¼ë¡œ ë³€í™˜í•˜ê³ , ë³€í™˜í•œ í•´ì‹œ ê°’ì„ uintë¡œ ë°”ê¾¼ í›„, % 100ì„ ì¨ì„œ ë§ˆì§€ë§‰ 2ìë¦¬ ìˆ«ìë§Œ ë°›ë„ë¡ í–ˆë‹¤.

ì´ë¥¼ í†µí•´ 0ê³¼ 99 ì‚¬ì´ì˜ ì™„ì „í•œ ë‚œìˆ˜ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.

### ì´ ë©”ì†Œë“œëŠ” ì •ì§í•˜ì§€ ì•Šì€ ë…¸ë“œì˜ ê³µê²©ì— ì·¨ì•½

ì´ë”ë¦¬ì›€ì—ì„œëŠ” Contractì˜ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë©´ íŠ¸ëœì­ì…˜(transaction)ìœ¼ë¡œì„œ ë„¤íŠ¸ì›Œí¬ì˜ ë…¸ë“œ í•˜ë‚˜ í˜¹ì€ ì—¬ëŸ¬ ë…¸ë“œì— ì‹¤í–‰ì„ ì•Œë¦¬ê²Œ ëœë‹¤.

ê·¸ í›„ ë„¤íŠ¸ì›Œí¬ì˜ ë…¸ë“œë“¤ì€ ì—¬ëŸ¬ ê°œì˜ íŠ¸ëœì­ì…˜ì„ ëª¨ìœ¼ê³ , "ì‘ì—… ì¦ëª…"ìœ¼ë¡œ ì•Œë ¤ì§„ ê³„ì‚°ì´ ë§¤ìš° ë³µì¡í•œ ìˆ˜í•™ì  ë¬¸ì œë¥¼ ë¨¼ì € í’€ê¸° ìœ„í•œ ì‹œë„ë¥¼ í•˜ê²Œ ëœë‹¤.

ê·¸ë¦¬ê³ ì„œ í•´ë‹¹ íŠ¸ëœì­ì…˜ ê·¸ë£¹ì„ ê·¸ë“¤ì˜ ì‘ì—… ì¦ëª…(PoW)ê³¼ í•¨ê»˜ _ë¸”ë¡_ìœ¼ë¡œ ë„¤íŠ¸ì›Œí¬ì— ë°°í¬í•˜ê²Œëœë‹¤.

í•œ ë…¸ë“œê°€ ì–´ë–¤ PoWë¥¼ í’€ë©´, ë‹¤ë¥¸ ë…¸ë“œë“¤ì€ ê·¸ PoWë¥¼ í’€ë ¤ëŠ” ì‹œë„ë¥¼ ë©ˆì¶”ê³  í•´ë‹¹ ë…¸ë“œê°€ ë³´ë‚¸ íŠ¸ëœì­ì…˜ ëª©ë¡ì´ ìœ íš¨í•œ ê²ƒì¸ì§€ ê²€ì¦í•œë‹¤. 
ìœ íš¨í•˜ë‹¤ë©´ í•´ë‹¹ ë¸”ë¡ì„ ë°›ì•„ë“¤ì´ê³  ë‹¤ìŒ ë¸”ë¡ì„ í’€ê¸° ì‹œì‘í•œë‹¤.

ì´ê²ƒì´ ìš°ë¦¬ì˜ ë‚œìˆ˜ í•¨ìˆ˜ë¥¼ ì·¨ì•½í•˜ê²Œ ë§Œë“ ë‹¤.

ìš°ë¦¬ê°€ ë™ì „ ë˜ì§€ê¸° ì»¨íŠ¸ë™íŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤ê³  í•´ë³´ì 
- ì•ë©´ì´ ë‚˜ì˜¤ë©´ ëˆì´ ë‘ ë°°ê°€ ë˜ê³ , ë’·ë©´ì´ ë‚˜ì˜¤ë©´ ëª¨ë‘ ë‹¤ ìƒëŠ” ê²ƒì´ë‹¤. ì•ë’·ë©´ì„ ê²°ì •í•  ë•Œ ìœ„ì—ì„œ ë³¸ ë‚œìˆ˜ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤ê³  ê°€ì •í•´ë³¸ë‹¤.
(random >= 50ì€ ì•ë©´, random < 50ì€ ë’·ë©´).

ë‚´ê°€ ë§Œì•½ ë…¸ë“œë¥¼ ì‹¤í–‰í•˜ê³  ìˆë‹¤ë©´, ë‚˜ëŠ” ì˜¤ì§ ë‚˜ì˜ ë…¸ë“œì—ë§Œ íŠ¸ëœì­ì…˜ì„ ì•Œë¦¬ê³  ì´ê²ƒì„ ê³µìœ í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.
ê·¸ í›„ ë‚´ê°€ ì´ê¸°ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ë™ì „ ë˜ì§€ê¸° í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤ 
- ê·¸ë¦¬ê³  ë§Œì•½ ë‚´ê°€ ì§„ë‹¤ë©´, ë‚´ê°€ í’€ê³  ìˆëŠ” ë‹¤ìŒ ë¸”ë¡ì— í•´ë‹¹ íŠ¸ëœì­ì…˜ì„ í¬í•¨í•˜ì§€ ì•ŠëŠ” ê²ƒì„ ì„ íƒí•œë‹¤.
ë‚œ ì´ê²ƒì„ ë‚´ê°€ ê²°êµ­ ë™ì „ ë˜ì§€ê¸°ì—ì„œ ì´ê¸°ê³  ë‹¤ìŒ ë¸”ë¡ì„ í’€ ë•Œê¹Œì§€ ë¬´í•œëŒ€ë¡œ ë°˜ë³µí•  ìˆ˜ ìˆê³ , ì´ë“ì„ ë³¼ ìˆ˜ ìˆë‹¤.

### ê·¸ëŸ¼ ì´ë”ë¦¬ì›€ì—ì„œëŠ” ì–´ë–»ê²Œ ë‚œìˆ˜ë¥¼ ì•ˆì „í•˜ê²Œ ë§Œë“¤ì–´ë‚¼ ìˆ˜ ìˆì„ê¹Œ?

ë¸”ë¡ì²´ì¸ì˜ ì „ì²´ ë‚´ìš©ì€ ëª¨ë“  ì°¸ì—¬ìì—ê²Œ ê³µê°œë˜ë¯€ë¡œ, ì´ê±´ í’€ê¸° ì–´ë ¤ìš´ ë¬¸ì œì´ê³  ê·¸ í•´ë‹µì€ ì´ íŠœí† ë¦¬ì–¼ì—ë¥¼ ë²—ì–´ë‚œë‹¤.

í•´ê²° ë°©ë²•ì´ ê¶ê¸ˆí•˜ë‹¤ë©´ https://ethereum.stackexchange.com/questions/191/how-can-i-securely-generate-a-random-number-in-my-smart-contract

í•˜ë‚˜ì˜ ë°©ë²•ì€ ì´ë”ë¦¬ì›€ ë¸”ë¡ì²´ì¸ ì™¸ë¶€ì˜ ë‚œìˆ˜ í•¨ìˆ˜ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ì˜¤ë¼í´ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒ

ë¬¼ë¡ , ë„¤íŠ¸ì›Œí¬ ìƒì˜ ìˆ˜ë§Œ ê°œì˜ ì´ë”ë¦¬ì›€ ë…¸ë“œë“¤ì´ ë‹¤ìŒ ë¸”ë¡ì„ í’€ê¸° ìœ„í•´ ê²½ìŸí•˜ê³  ìˆìœ¼ë‹ˆ, ë‚´ê°€ ë‹¤ìŒ ë¸”ë¡ì„ í’€ í™•ë¥ ì€ ë§¤ìš° ë‚®ì„ ê²ƒì´ë‹¤. 
ìœ„ì—ì„œ ë§í•œ ë¶€ë‹¹í•œ ë°©ë²•ì„ ì“°ëŠ” ê²ƒì€ ë§ì€ ì‹œê°„ê³¼ ì—°ì‚° ìì›ì„ í•„ìš”ë¡œ í•  ê²ƒ

ê·¸ëŸ¬ë‹ˆ ì´ëŸ° ë‚œìˆ˜ ìƒì„±ì€ ì´ë”ë¦¬ì›€ ìƒì—ì„œ ì•ˆì „í•˜ì§€ëŠ” ì•Šì§€ë§Œ, ì‹¤ì œë¡œëŠ” ë‚œìˆ˜ í•¨ìˆ˜ê°€ ì¦‰ì‹œ í° ëˆì´ ë˜ì§€ ì•ŠëŠ” í•œ, ìë„¤ ê²Œì„ì˜ ì‚¬ìš©ìë“¤ì€ ê²Œì„ì„ ê³µê²©í•  ë§Œí•œ ì¶©ë¶„í•œ ìì›ì„ ë“¤ì´ì§€ ì•Šì„ ê²ƒì´ë‹¤.

ì´ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” ì‹œì—° ëª©ì ìœ¼ë¡œ ê°„ë‹¨í•œ ê²Œì„ì„ ë§Œë“¤ê³  ìˆê³  ë°”ë¡œ ëˆì´ ë˜ëŠ” ê²Œ ì—†ê¸° ë•Œë¬¸ì—, ìš°ë¦° êµ¬í˜„í•˜ê¸° ê°„ë‹¨í•œ ë‚œìˆ˜ ìƒì„±ê¸°ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒìœ¼ë¡œ íƒ€í˜‘í•  ê²ƒì´ë‹¤. ì´ê²Œ ì™„ì „íˆ ì•ˆì „í•˜ì§€ëŠ” ì•Šë‹¤ëŠ” ê±¸ ì•Œê¸´ í•˜ì§€ë§Œ ë§ì´ë‹¤.

## ì´ë”ë¦¬ì›€ ìƒì˜ í† í°

ì´ë”ë¦¬ì›€ì—ì„œ `í† í°`ì€ ê¸°ë³¸ì ìœ¼ë¡œ ê·¸ì € ëª‡ëª‡ ê³µí†µ ê·œì•½ì„ ë”°ë¥´ëŠ” ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì´ë‹¤.
-> ì¦‰ ë‹¤ë¥¸ ëª¨ë“  í† í° ì»¨íŠ¸ë™íŠ¸ê°€ ì‚¬ìš©í•˜ëŠ” í‘œì¤€ í•¨ìˆ˜ ì§‘í•©ì„ êµ¬í˜„í•˜ëŠ” ê²ƒ.

exmaple)
```
transfer(address _to, uint256 _value);
balanceOf(address _owner)
```

ë‚´ë¶€ì ìœ¼ë¡œ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ëŠ” ë³´í†µ mapping(address => uint256) balancesì™€ ê°™ì€ ë§¤í•‘ì„ ê°€ì§€ê³  ìˆë‹¤. 
ê°ê°ì˜ ì£¼ì†Œì— ì”ì•¡ì´ ì–¼ë§ˆë‚˜ ìˆëŠ”ì§€ ê¸°ë¡í•˜ëŠ” ê²ƒ

\* ì¦‰ ê¸°ë³¸ì ìœ¼ë¡œ í† í°ì€ ê·¸ì € í•˜ë‚˜ì˜ ì»¨íŠ¸ë™íŠ¸ì´ë‹¤. 
ê·¸ ì•ˆì—ì„œ ëˆ„ê°€ ì–¼ë§ˆë‚˜ ë§ì€ í† í°ì„ ê°€ì§€ê³  ìˆëŠ”ì§€ ê¸°ë¡í•˜ê³ , ëª‡ëª‡ í•¨ìˆ˜ë¥¼ ê°€ì§€ê³  ì‚¬ìš©ìë“¤ì´ ê·¸ë“¤ì˜ í† í°ì„ ë‹¤ë¥¸ ì£¼ì†Œë¡œ ì „ì†¡í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê²ƒ

### ì™œ ì´ë ‡ê²Œ í•´ì•¼ í•˜ë‚˜ìš”?
ëª¨ë“  ERC20 í† í°ë“¤ì´ ë˜‘ê°™ì€ ì´ë¦„ì˜ ë™ì¼í•œ í•¨ìˆ˜ ì§‘í•©ì„ ê³µìœ í•˜ê¸° ë•Œë¬¸ì—, ì´ í† í°ë“¤ì— ë˜‘ê°™ì€ ë°©ì‹ìœ¼ë¡œ ìƒí˜¸ì‘ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.

ì¦‰ í•˜ë‚˜ì˜ ERC20 í† í°ê³¼ ìƒí˜¸ì‘ìš©í•  ìˆ˜ ìˆëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ í•˜ë‚˜ë¥¼ ë§Œë“¤ë©´, ì´ ì•±ì´ ë‹¤ë¥¸ ì–´ë–¤ ERC20 í† í°ê³¼ë„ ìƒí˜¸ì‘ìš©ì´ ê°€ëŠ¥í•œ ê²ƒì´ë‹¤.

ì´ëŸ° ë°©ì‹ìœ¼ë¡œ ìë„¤ì˜ ì•±ì— ë” ë§ì€ í† í°ë“¤ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. ì»¤ìŠ¤í…€ ì½”ë“œë¥¼ ì¶”ê°€í•˜ì§€ ì•Šê³ ë„ ë§ì´ë‹¤. ê·¸ì € ìƒˆë¡œìš´ í† í°ì˜ ì»¨íŠ¸ë™íŠ¸ ì£¼ì†Œë§Œ ë¼ì›Œë„£ìœ¼ë©´ ëœë‹¤.

ì´ëŸ¬í•œ ê²ƒì˜ í•œ ì˜ˆë¡œëŠ” ê±°ë˜ì†Œê°€ ìˆë‹¤. 
í•œ ê±°ë˜ì†Œì—ì„œ ìƒˆë¡œìš´ ERC20 í† í°ì„ ìƒì¥í•  ë•Œ, ì‹¤ì œë¡œëŠ” ì´ ê±°ë˜ì†Œì—ì„œ í†µì‹ ì´ ê°€ëŠ¥í•œ ë˜ í•˜ë‚˜ì˜ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì´ë‹¤.

ì‚¬ìš©ìë“¤ì€ ì´ ì»¨íŠ¸ë™íŠ¸ì— ê±°ë˜ì†Œì˜ ì§€ê°‘ ì£¼ì†Œì— í† í°ì„ ë³´ë‚´ë¼ê³  í•  ìˆ˜ ìˆê³ , ê±°ë˜ì†Œì—ì„œëŠ” ì´ ì»¨íŠ¸ë™íŠ¸ì— ì‚¬ìš©ìë“¤ì´ ì¶œê¸ˆì„ ì‹ ì²­í•˜ë©´ í† í°ì„ ë‹¤ì‹œ ëŒë ¤ë³´ë‚´ë¼ê³  í•  ìˆ˜ ìˆê²Œ ë§Œë“œëŠ” ê²ƒì´ë‹¤.

ê±°ë˜ì†Œì—ì„œëŠ” ì´ ì „ì†¡ ë¡œì§ì„ í•œ ë²ˆë§Œ êµ¬í˜„í•˜ë©´ ëœë‹¤. ê·¸ë¦¬ê³ ì„œ ìƒˆë¡œìš´ ERC20 í† í°ì„ ì¶”ê°€í•˜ê³  ì‹¶ìœ¼ë©´, ë°ì´í„°ë² ì´ìŠ¤ì— ë‹¨ìˆœíˆ ìƒˆ ì»¨íŠ¸ë™íŠ¸ ì£¼ì†Œë¥¼ ì¶”ê°€í•˜ê¸°ë§Œ í•˜ë©´ ë˜ëŠ” ì¼ì´ë‹¤.

### ë‹¤ë¥¸ í† í° í‘œì¤€

ERC20 í† í°ì€ í™”íì²˜ëŸ¼ ì‚¬ìš©ë˜ëŠ” í† í°ìœ¼ë¡œëŠ” ì •ë§ ì ì ˆí•˜ë‹¤.

í•˜ì§€ë§Œ ìš°ë¦¬ì˜ ì¢€ë¹„ ê²Œì„ì—ì„œ ì¢€ë¹„ë¥¼ í‘œí˜„í•  ë•Œì—ëŠ” ê·¸ë‹¤ì§€ ì“¸ëª¨ ìˆì§€ê°€ ì•Šë‹¤.

ì²«ì§¸ë¡œ, ì¢€ë¹„ëŠ” í™”íì²˜ëŸ¼ ë¶„í• í•  ìˆ˜ê°€ ì—†ë‹¤ - ë‚œ ë‹¤ë¥¸ì‚¬ëŒì—ê²Œ 0.237ETHë¥¼ ë³´ë‚¼ ìˆ˜ ìˆì§€ë§Œ, ë‹¤ë¥¸ì‚¬ëŒì—ê²Œ 0.237ê°œì˜ ì¢€ë¹„ë¥¼ ë³´ë‚´ëŠ” ê²ƒì€ ë§ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤

ì—¬ê¸°ì— í¬ë¦½í† ì¢€ë¹„ì™€ ê°™ì€ í¬ë¦½í†  ìˆ˜ì§‘í’ˆì„ ìœ„í•´ ë” ì ì ˆí•œ í† í° í‘œì¤€ì´ ìˆë‹¤ - ë°”ë¡œ ERC721 í† í°

êµì²´ê°€ ë¶ˆê°€í•˜ë‹¤. ê°ê°ì˜ í† í°ì´ ìœ ì¼í•˜ê³  ë¶„í• ì´ ë¶ˆê°€í•˜ê¸° ë•Œë¬¸ì´ë‹¤. 
ì´ í† í°ì„ í•˜ë‚˜ì˜ ì „ì²´ ë‹¨ìœ„ë¡œë§Œ ê±°ë˜í•  ìˆ˜ ìˆê³ , ê°ê°ì˜ í† í°ì€ ìœ ì¼í•œ IDë¥¼ ê°€ì§€ê³  ìˆë„¤. ê·¸ëŸ¬ë‹ˆ ì´ê²Œ ìš°ë¦¬ì˜ ì¢€ë¹„ë¥¼ ê±°ë˜í•  ìˆ˜ ìˆê²Œ í•˜ê¸°ì—ëŠ” ì•„ì£¼ ì ì ˆí•˜ë‹¤.

> ERC721ê³¼ ê°™ì€ í‘œì¤€ì„ ì‚¬ìš©í•˜ë©´ ìš°ë¦¬ì˜ ì»¨íŠ¸ë™íŠ¸ì—ì„œ ì‚¬ìš©ìë“¤ì´ ìš°ë¦¬ì˜ ì¢€ë¹„ë¥¼ ê±°ë˜/íŒë§¤í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²½ë§¤ë‚˜ ì¤‘ê³„ ë¡œì§ì„ 
ìš°ë¦¬ê°€ ì§ì ‘ êµ¬í˜„í•˜ì§€ ì•Šì•„ë„ ëœë‹¤ëŠ” ì´ì ì´ ìˆë‹¤.

ìš°ë¦¬ê°€ ìŠ¤í™ì— ë§ì¶”ê¸°ë§Œ í•˜ë©´, ëˆ„êµ°ê°€ ERC721 ìì‚°ì„ ê±°ë˜í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê±°ë˜ì†Œ í”Œë«í¼ì„ ë§Œë“¤ë©´ ìš°ë¦¬ì˜ ERC721 ì¢€ë¹„ë“¤ì„ ê·¸ í”Œë«í¼ì—ì„œ ì“¸ ìˆ˜ ìˆê²Œ ë  ê²ƒì´ë‹¤.

## ERC721 í‘œì¤€, ë‹¤ì¤‘ ìƒì†

ERC7211 í‘œì¤€

```solidity
contract ERC721 {
  event Transfer(address indexed _from, address indexed _to, uint256 _tokenId);
  event Approval(address indexed _owner, address indexed _approved, uint256 _tokenId);

  function balanceOf(address _owner) public view returns (uint256 _balance);
  function ownerOf(uint256 _tokenId) public view returns (address _owner);
  function transfer(address _to, uint256 _tokenId) public;
  function approve(address _to, uint256 _tokenId) public;
  function takeOwnership(uint256 _tokenId) public;
}
```

> ì°¸ê³  : ERC721 í‘œì¤€ì€ í˜„ì¬ ì´ˆì•ˆì¸ ìƒíƒœì´ê³ , ì•„ì§ ê³µì‹ìœ¼ë¡œ ì±„íƒëœ êµ¬í˜„ ë²„ì „ì€ ì—†ë‹¤. 
ì´ íŠœí† ë¦¬ì–¼ì—ì„œ ìš°ë¦¬ëŠ” OpenZeppelin ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì“°ì´ëŠ” í˜„ì¬ ë²„ì „ì„ ì‚¬ìš©í•  ê²ƒì´ì§€ë§Œ, ê³µì‹ ë¦´ë¦¬ì¦ˆ ì´ì „ì— ì–¸ì  ê°€ ë°”ë€” ê°€ëŠ¥ì„±ë„ ìˆë‹¤.
ê·¸ëŸ¬ë‹ˆ í•˜ë‚˜ì˜ êµ¬í˜„ ê°€ëŠ¥í•œ ë²„ì „ ì •ë„ë¡œë§Œ ìƒê°í•˜ê³ , ERC721 í† í°ì˜ ì •ì‹ í‘œì¤€ìœ¼ë¡œ ìƒê°í•˜ì§€ëŠ” ë§ì.

### í† í° ì»¨íŠ¸ë™íŠ¸ êµ¬í˜„í•˜ê¸°

í† í° ì»¨íŠ¸ë™íŠ¸ë¥¼ êµ¬í˜„í•  ë•Œ, ì²˜ìŒ í•´ì•¼ í•  ì¼ì€ ë°”ë¡œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì†”ë¦¬ë””í‹° íŒŒì¼ë¡œ ë”°ë¡œ ë³µì‚¬í•˜ì—¬ ì €ì¥í•˜ê³  
import "./erc721.sol";ì„ ì¨ì„œ ì„í¬íŠ¸ë¥¼ í•˜ëŠ” ê²ƒ

ê·¸ë¦¬ê³  í•´ë‹¹ ì»¨íŠ¸ë™íŠ¸ë¥¼ ìƒì†í•˜ëŠ” ì»¨íŠ¸ë™íŠ¸ë¥¼ ë§Œë“¤ê³ , ê°ê°ì˜ í•¨ìˆ˜ë¥¼ ì˜¤ë²„ë¼ì´ë”©í•˜ì—¬ ì •ì˜í•˜ì—¬ì•¼ í•¨.

ì†”ë¦¬ë””í‹°ì—ì„œëŠ”, ì»¨íŠ¸ë™íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë‹¤ìˆ˜ì˜ ì»¨íŠ¸ë™íŠ¸ë¥¼ ìƒì†í•  ìˆ˜ ìˆë‹¤

```
contract SatoshiNakamoto is NickSzabo, HalFinney {
  
}
```

### balanceOf & ownerOf

#### balanceOf

```
function balanceOf(address _owner) public view returns (uint256 _balance);
```

addressë¥¼ ë°›ì•„, í•´ë‹¹ addressê°€ í† í°ì„ ì–¼ë§ˆë‚˜ ê°€ì§€ê³  ìˆëŠ”ì§€ ë°˜í™˜í•¨.

#### ownerOf

```
 function ownerOf(uint256 _tokenId) public view returns (address _owner);
```

ì´ í•¨ìˆ˜ì—ì„œëŠ” í† í° ID(ìš°ë¦¬ì˜ ê²½ìš°ì—ëŠ” ì¢€ë¹„ ID)ë¥¼ ë°›ì•„, ì´ë¥¼ ì†Œìœ í•˜ê³  ìˆëŠ” ì‚¬ëŒì˜ addressë¥¼ ë°˜í™˜í•¨.

### ERC721: ì „ì†¡ ë¡œì§

ERC721 ìŠ¤í™ì—ì„œëŠ” í† í°ì„ ì „ì†¡í•  ë•Œ 2ê°œì˜ ë‹¤ë¥¸ ë°©ì‹ì´ ìˆìŒ.
```
function transfer(address _to, uint256 _tokenId) public;
function approve(address _to, uint256 _tokenId) public;
function takeOwnership(uint256 _tokenId) public;
```

1. í† í°ì˜ ì†Œìœ ìê°€ ì „ì†¡ ìƒëŒ€ì˜ address, ì „ì†¡í•˜ê³ ì í•˜ëŠ” _tokenIdì™€ í•¨ê»˜ transfer í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒ

2. í† í°ì˜ ì†Œìœ ìê°€ ë¨¼ì € ìœ„ì—ì„œ ë³¸ ì •ë³´ë“¤ì„ ê°€ì§€ê³  approveë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒ
  -> ê·¸ë¦¬ê³ ì„œ ì»¨íŠ¸ë™íŠ¸ì— ëˆ„ê°€ í•´ë‹¹ í† í°ì„ ê°€ì§ˆ ìˆ˜ ìˆë„ë¡ í—ˆê°€ë¥¼ ë°›ì•˜ëŠ”ì§€ ì €ì¥
  ë³´í†µ mapping (uint256 => address)ì„ ì‚¬ìš©.
  ì´í›„ ëˆ„êµ°ê°€ takeOwnershipì„ í˜¸ì¶œí•˜ë©´, í•´ë‹¹ ì»¨íŠ¸ë™íŠ¸ëŠ” ì´ msg.senderê°€ ì†Œìœ ìë¡œë¶€í„° í† í°ì„ ë°›ì„ ìˆ˜ ìˆê²Œ í—ˆê°€ë¥¼ ë°›ì•˜ëŠ”ì§€ í™•ì¸í•œë‹¤. 
  ê·¸ë¦¬ê³  í—ˆê°€ë¥¼ ë°›ì•˜ë‹¤ë©´ í•´ë‹¹ í† í°ì„ ê·¸ì—ê²Œ ì „ì†¡

transferì™€ takeOwnership ëª¨ë‘ ë™ì¼í•œ ì „ì†¡ ë¡œì§ì„ ê°€ì§€ê³  ìˆë‹¤. ìˆœì„œë§Œ ë°˜ëŒ€ì¸ ê²ƒì´ë‹¤.

transfer : í† í°ì„ ë³´ë‚´ëŠ” ì‚¬ëŒì´ í•¨ìˆ˜ë¥¼ í˜¸ì¶œ

takeOwnership : í† í°ì„ ë°›ëŠ” ì‚¬ëŒì´ í˜¸ì¶œ

\* ê·¸ëŸ¬ë‹ˆ ì´ ë¡œì§ë§Œì˜ í”„ë¼ì´ë¹— í•¨ìˆ˜, _transferë¥¼ ë§Œë“¤ì–´ ë‘ í•¨ìˆ˜ì—ì„œ ëª¨ë‘ ì“¸ ìˆ˜ ìˆë„ë¡ ì¶”ìƒí™”í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

ERC721 ìŠ¤í™ì—ëŠ” Transfer ì´ë²¤íŠ¸ê°€ í¬í•¨ë˜ì–´ ìˆë‹¤. ì´ í•¨ìˆ˜ì˜ ë§ˆì§€ë§‰ ì¤„ì—ì„œ ì ì ˆí•œ ì •ë³´ì™€ í•¨ê»˜ Transferë¥¼ ì‹¤í–‰í•´ì•¼ í•œë‹¤.
```
  function _transfer(address _from, address _to, uint256 _tokenId) private {
    ownerZombieCount[_to]++;
    ownerZombieCount[_from]--;
    zombieToOwner[_tokenId] = _to;
    Transfer(_from, _to, _tokenId);
  }

```

### ERC721: Approve

approve / takeOwnershipì„ ì‚¬ìš©í•˜ëŠ” ì „ì†¡ì€ 2ë‹¨ê³„ë¡œ ë‚˜ë‰œë‹¤.

1. ì†Œìœ ìì¸ ìê°€ ìƒˆë¡œìš´ ì†Œìœ ìì˜ addressì™€ ê·¸ì—ê²Œ ë³´ë‚´ê³  ì‹¶ì€ _tokenIdë¥¼ ì‚¬ìš©í•˜ì—¬ approveë¥¼ í˜¸ì¶œ

2. ìƒˆë¡œìš´ ì†Œìœ ìê°€ _tokenIdë¥¼ ì‚¬ìš©í•˜ì—¬ takeOwnership í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´, ì»¨íŠ¸ë™íŠ¸ëŠ” ê·¸ê°€ ìŠ¹ì¸ëœ ìì¸ì§€ í™•ì¸í•˜ê³  ê·¸ì—ê²Œ í† í°ì„ ì „ì†¡

### ERC721: takeOwnership
```
function takeOwnership(uint256 _tokenId) public {
  require(zombieApprovals[_tokenId] == msg.sender);
  address owner = ownerOf(_tokenId);
  _transfer(owner, msg.sender, _tokenId);
}
```

### ì˜¤ë²„í”Œë¡œìš° ë§‰ê¸°

\* ë” ê¹Šì´ ìˆëŠ” êµ¬í˜„ì˜ ì˜ˆì‹œë¥¼ ë³´ê³  ì‹¶ë‹¤ë©´, ì´ íŠœí† ë¦¬ì–¼ì´ ëë‚œ í›„ OpenZeppelin ERC721 ì»¨íŠ¸ë™íŠ¸ë¥¼ ì°¸ê³ 

#### ì»¨íŠ¸ë™íŠ¸ ë³´ì•ˆ ê°•í™”: ì˜¤ë²„í”Œë¡œìš°ì™€ ì–¸ë”í”Œë¡œìš°

ì˜¤ë²„í”Œë¡œìš°ë€?
ìš°ë¦¬ê°€ 8ë¹„íŠ¸ ë°ì´í„°ë¥¼ ì €ì¥í•  ìˆ˜ ìˆëŠ” uint8 í•˜ë‚˜ë¥¼ ê°€ì§€ê³  ìˆë‹¤ê³  í•´ë³´ì. 
ì´ ë§ì¸ì¦‰ ìš°ë¦¬ê°€ ì €ì¥í•  ìˆ˜ ìˆëŠ” ê°€ì¥ í° ìˆ˜ëŠ” ì´ì§„ìˆ˜ë¡œ 11111111(ë˜ëŠ” ì‹­ì§„ìˆ˜ë¡œ 2^8 - 1 = 255)ê°€ ëœë‹¤.

```
uint8 number = 255;
number++;
```
ì´ ì˜ˆì‹œì—ì„œ, ìš°ë¦¬ëŠ” ì´ ë³€ìˆ˜ì— ì˜¤ë²„í”Œë¡œìš°ë¥¼ ë§Œë“¤ì—ˆë‹¤.
ì¦‰ numberê°€ ì§ê´€ê³¼ëŠ” ë‹¤ë¥´ê²Œ 0ì´ ëœë‹¤. ì´ì§„ìˆ˜ 11111111ì— 1ì„ ë”í•˜ë©´, ì´ ìˆ˜ëŠ” 00000000ìœ¼ë¡œ ëŒì•„ê°„ë‹¤.

ì–¸ë”í”Œë¡œìš°ëŠ” ì´ì™€ ìœ ì‚¬í•˜ê²Œ 0 ê°’ì„ ê°€ì§„ uint8ì—ì„œ 1ì„ ë¹¼ë©´, 255ì™€ ê°™ì•„ì§€ëŠ” ê²ƒì„ ë§í•¨.

ìš°ë¦¬ê°€ ì—¬ê¸°ì„œ uint8ì„ ì“°ì§€ëŠ” ì•Šê³ , 1ì”© ì¦ê°€ì‹œí‚¨ë‹¤ê³  uint256ì— ì˜¤ë²„í”Œë¡œìš°ê°€ ë°œìƒí•˜ì§€ëŠ” ì•Šì„ ê²ƒ ê°™ì§€ë§Œ(2^256ì€ ì •ë§ í° ìˆ«ì), 
ë¯¸ë˜ì— ìš°ë¦¬ì˜ DAppì— ì˜ˆìƒì¹˜ ëª»í•œ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•Šë„ë¡ ì—¬ì „íˆ ìš°ë¦¬ì˜ ì»¨íŠ¸ë™íŠ¸ì— ë³´í˜¸ ì¥ì¹˜ë¥¼ ë‘ëŠ” ê²ƒì´ ì¢‹ì„ ê²ƒì´ë‹¤.

#### SafeMath ì‚¬ìš©í•˜ê¸°

ì´ë¥¼ ë§‰ê¸° ìœ„í•´, OpenZeppelinì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì´ëŸ° ë¬¸ì œë¥¼ ë§‰ì•„ì£¼ëŠ” SafeMathë¼ê³  í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë§Œë“¤ì—ˆë‹¤.

SafeMath ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì“¸ ë•ŒëŠ” using SafeMath for uint256ì´ë¼ëŠ” êµ¬ë¬¸ì„ ì‚¬ìš©í•  ê²ƒì´ë‹¤.

\* ë¼ì´ë¸ŒëŸ¬ë¦¬(Library)ëŠ” ì†”ë¦¬ë””í‹°ì—ì„œ íŠ¹ë³„í•œ ì¢…ë¥˜ì˜ ì»¨íŠ¸ë™íŠ¸ì´ë‹¤. ì´ê²Œ ìœ ìš©í•˜ê²Œ ì‚¬ìš©ë˜ëŠ” ê²½ìš° ì¤‘ í•˜ë‚˜ëŠ” ê¸°ë³¸(native) ë°ì´í„° íƒ€ì…ì— í•¨ìˆ˜ë¥¼ ë¶™ì¼ ë•Œì´ë‹¤.

SafeMath ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” 4ê°œì˜ í•¨ìˆ˜ë¥¼ ê°€ì§€ê³  ìˆë‹¤ - add, sub, mul, ê·¸ë¦¬ê³  divê°€ ìˆë‹¤.
ê·¸ë¦¬ê³  ì´ì œ ìš°ë¦¬ëŠ” uint256ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì´ í•¨ìˆ˜ë“¤ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.

```
using SafeMath for uint256;

uint256 a = 5;
uint256 b = a.add(3); // 5 + 3 = 8
uint256 c = a.mul(2); // 5 * 2 = 10
```

#### SafeMath 
SafeMath ë‚´ë¶€ì˜ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤

```
library SafeMath {

  function mul(uint256 a, uint256 b) internal pure returns (uint256) {
    if (a == 0) {
      return 0;
    }
    uint256 c = a * b;
    assert(c / a == b);
    return c;
  }

  function div(uint256 a, uint256 b) internal pure returns (uint256) {
    // assert(b > 0); // Solidity automatically throws when dividing by 0
    uint256 c = a / b;
    // assert(a == b * c + a % b); // There is no case in which this doesn't hold
    return c;
  }

  function sub(uint256 a, uint256 b) internal pure returns (uint256) {
    assert(b <= a);
    return a - b;
  }

  function add(uint256 a, uint256 b) internal pure returns (uint256) {
    uint256 c = a + b;
    assert(c >= a);
    return c;
  }
}
```

ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” contractì™€ ë¹„ìŠ·í•˜ì§€ë§Œ ì¡°ê¸ˆ ë‹¤ë¥¸ ì ì´ ìˆë‹¤.
ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ìš°ë¦¬ê°€ using í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.
ì´ë¥¼ í†µí•´ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ë©”ì†Œë“œë“¤ì„ ë‹¤ë¥¸ ë°ì´í„° íƒ€ì…ì— ì ìš©í•  ìˆ˜ ìˆë‹¤.

```
using SafeMath for uint;
// ìš°ë¦¬ëŠ” ì´ì œ ì´ ë©”ì†Œë“œë“¤ì„ ì•„ë¬´ uintì—ì„œë‚˜ ì“¸ ìˆ˜ ìˆë‹¤.
uint test = 2;
test = test.mul(3); // testëŠ” ì´ì œ 6ì´ ë˜ë„¤
test = test.add(5); // testëŠ” ì´ì œ 11ì´ ë˜ë„¤
```

mulê³¼ add í•¨ìˆ˜ëŠ” ê°ê° 2ê°œì˜ ì¸ìˆ˜ë¥¼ í•„ìš”ë¡œ í•œë‹¤. 
í•˜ì§€ë§Œ ìš°ë¦¬ê°€ using SafeMath for uintë¥¼ ì„ ì–¸í•  ë•Œ, ìš°ë¦¬ê°€ í•¨ìˆ˜ë¥¼ ì ìš©í•˜ëŠ” uint(test)ëŠ” ì²« ë²ˆì§¸ ì¸ìˆ˜ë¡œ ìë™ìœ¼ë¡œ ì „ë‹¬í•¨.

SafeMathê°€ ì–´ë–¤ ê²ƒì„ í•˜ëŠ”ì§€ ë³´ê¸° ìœ„í•´ addí•¨ìˆ˜ ë‚´ìš©ì„ ë³¸ë‹¤ë©´

```
function add(uint256 a, uint256 b) internal pure returns (uint256) {
  uint256 c = a + b;
  assert(c >= a);
  return c;
}
```
addëŠ” ê·¸ì € 2ê°œì˜ uintë¥¼ +ì²˜ëŸ¼ ë”í•œë‹¤. í•˜ì§€ë§Œ ê·¸ ì•ˆì— assert êµ¬ë¬¸ì„ ì¨ì„œ ê·¸ í•©ì´ aë³´ë‹¤ í¬ë„ë¡ ë³´ì¥í•¨.

assertëŠ” ì¡°ê±´ì„ ë§Œì¡±í•˜ì§€ ì•Šìœ¼ë©´ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¨ë‹¤ëŠ” ì ì—ì„œ requireì™€ ë¹„ìŠ·í•˜ë‹¤.

assertì™€ requireì˜ ì°¨ì´ì ì€, requireëŠ” í•¨ìˆ˜ ì‹¤í–‰ì´ ì‹¤íŒ¨í•˜ë©´ ë‚¨ì€ ê°€ìŠ¤ë¥¼ ì‚¬ìš©ìì—ê²Œ ë˜ëŒë ¤ ì£¼ì§€ë§Œ, assertëŠ” ê·¸ë ‡ì§€ ì•Šë‹¤ëŠ” ê²ƒì´ë‹¤.

ì¦‰, assertëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì½”ë“œê°€ ì‹¬ê°í•˜ê²Œ ì˜ëª» ì‹¤í–‰ë  ë•Œ ì‚¬ìš©í•œë‹¤(uint ì˜¤ë²„í”Œë¡œìš°ì²˜ëŸ¼)

\* ë§Œì•½ uint32, uint16ì—ë„ SafeMathë¥¼ í•˜ê³ ì‹¶ë‹¤ë©´, ë‹¤ìŒê³¼ ê°™ì´ ì§„í–‰í•œë‹¤.
```
  using SafeMath for uint256;
  using SafeMath32 for uint32;
  using SafeMath16 for uint16;
```

### ì£¼ì„
ì†”ë¦¬ë””í‹° ì»¤ë®¤ë‹ˆí‹°ì—ì„œ í‘œì¤€ìœ¼ë¡œ ì“°ì´ëŠ” í˜•ì‹ì€ natspecì´ë¼ ë¶ˆë¦°ë‹¤

```
/// @title ê¸°ë³¸ì ì¸ ì‚°ìˆ˜ë¥¼ ìœ„í•œ ì»¨íŠ¸ë™íŠ¸
/// @author H4XF13LD MORRIS ğŸ’¯ğŸ’¯ğŸ˜ğŸ’¯ğŸ’¯
/// @notice ì§€ê¸ˆì€ ê³±í•˜ê¸° í•¨ìˆ˜ë§Œ ì¶”ê°€í•œë‹¤.
contract Math {
  /// @notice 2ê°œì˜ ìˆ«ìë¥¼ ê³±í•œë‹¤.
  /// @param x ì²« ë²ˆì¨° uint.
  /// @param y ë‘ ë²ˆì§¸ uint.
  /// @return z (x * y) ê³±ì˜ ê°’
  /// @dev ì´ í•¨ìˆ˜ëŠ” í˜„ì¬ ì˜¤ë²„í”Œë¡œìš°ë¥¼ í™•ì¸í•˜ì§€ ì•ŠëŠ”ë‹¤.
  function multiply(uint x, uint y) returns (uint z) {
    // ì´ê²ƒì€ ì¼ë°˜ì ì¸ ì£¼ì„ìœ¼ë¡œ, natspecì— í¬í•¨ë˜ì§€ ì•ŠëŠ”ë‹¤.
    z = x * y;
  }
}
```
