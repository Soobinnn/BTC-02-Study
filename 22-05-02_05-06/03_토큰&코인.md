# 코인
각 코인은 다양한 채굴(Mining) 방법으로 구분되고 있다.

## 채굴 (Mining)
채굴(Mining)이란, 블록체인 네트워크에 노드로 트랜잭션을 검증하여 분산원장을 기록하고, 
보상으로 암호화폐를 얻는 것을 뜻하며 땅을 파서 광물 따위를 캐내는 행위에서 유래한 용어

새로운 블록을 만드는 것이 바로 채굴의 핵심이며 특정 컴퓨터 연산 작업을 통해 만들어지게 된다.
비트코인의 경우, 10분에 한 번씩 일정량의 블록이 생성이 되는데 이 생성된 비트코인을 채굴에 참여한 작업자 중 해시퍼즐이라는 문제를 푼 작업자에게 지급하게 되며, 
이 해시퍼즐은 특정한 조건을 갖춘 해시를 찾아내는 일련의 과정을 말함.

블록체인 기반의 암호화폐에서 새로운 블록을 생성하고 그 대가로 암호화폐를 지급받는 노드들이 바로, 채굴자(Miner)이다.

채굴 (Mining) = 작업 증명 (PoW) + 보상 (Reward)
 
### (비트코인) 채굴자가 하는 일

채굴(Mining)을 하는 행위는 블록체인 네트워크를 유지하면서 개인에게는 이익을 줄 수 있다.

그렇다면, 비트코인에서는 채굴자가 어떤 작업을 통해 채굴하는지, 또한 보상은 어떻게 받는지

노드(Node)가 비트코인 네트워크에 접속하면, 비트코인 채굴자는 다음과 같이 몇 가지 작업을 수행함.

- 네트워크 동기화 : 새 노드가 비트코인 네트워크에 합류하면, 다른 노드에게 과거의 블록들을 요청해 블록체인을 다운로드

- 트랜잭션 검증 : 새로운 트랜잭션을 수신한 노드는 반드시 해당 트랜잭션이 올바른 트랜잭션인지 검증하는 과정이 필요

> 비트코인에서 트랜잭션 검증하는 단계
    1) 원본 데이터를 자신의 개인키로 암호화를 진행하여 디지털 서명을 진행
    2) 원본 데이터와 디지털 서명된 데이터를 노드에 전파
    3) 트랜잭션을 받은 노드는 해당 트랜잭션이 진짜인지에 대한 검증을 위해 트랜잭션을 송신한 노드의 공개키를 이용하여 난독화(암호화) 진행
    4) 난독화된 거래 데이터와, 원본 데이터를 비교하여 수정된 데이터가 있는지 데이터의 무결성을 검증
    5) 수신 받은 트랜잭션이 진짜 거래로 판단될 경우 블록체인에 해당 트랜잭션을 업데이트하고 블록체인 네트워크에 연결된 노드들에게 해당 트랜잭션을 다시 전파

- 블록 유효성 검사 : 채굴자와 풀 노드는 특정 규칙에 따라 수신한 블록을 평가하여 유효성 검사를 시작

- 새로운 블록 생성 : 채굴자는 네트워크에 브로드캐스팅된 트랜잭션의 유효성을 검사

- 작업 증명(PoW) 수행 : 채굴 과정의 핵심으로 채굴자가 해시 퍼즐을 풀어 유효한 블록을 찾는다.
                    이때, 블록 헤더에 있는 논스(Nonce)를 사용하여 채굴자는 논스 값을 계속 바꿔가며 결과 해시 값이 미리 결정된 목표 값보다 작을 때까지 반복 계산

> 블록 헤더에 있는 논스(Nonce)와 트랜잭션의 논스(Nonce)는 어떤 차이가 있을까요?
: 블록 헤더에 있는 논스(Nonce)는 입력값 중의 하나로 해서 계산되는 블록의 해시값이 특정 숫자보자 작아지게 하는 값으로 쓰임.
이더리움에서 트랜잭션의 논스(Nonce)는 발신 주소의 속성이며, 발신 주소의 컨텍스 안에서만 의미를 갖음.
그러나 논스는 명시적으로 블록체인 계정 상태에 저장되지 않고 해당 주소에서 발생한 확인된 트랜잭션 건수를 세어서 동적으로 계산되는 값으로 쓰임.

- 보상 수령 : 해시 퍼즐(PoW)의 해를 구한 노드는 즉시 결과를 브로드캐스팅하고, 다른 노드들은 그 결과를 검증하여 그 블록을 승인
승인되면 채굴자는 비트코인과 관련된 트랜잭션 수수료를 보상으로 받음.

> 생각해보기 : 블록 보상은 약 210,000 블록이 채굴될 때마다 반으로 줄어들고 있으며, 지금도 보상이 줄어들고 있습니다. 이렇게 비트코인의 개수를 제한하는 이유는 무엇일까요

### 이더리움은 어떻게 채굴할까?

네트워크의 채굴 노드는 이더해시(Ethash)라는 독자적인 작업증명 알고리즘을 사용해 블록을 생성하고자 경쟁함.

이더해시 알고리즘에 대한 입력은 논스라고 하는 임의로 생성된 숫자를 포함하는 블록 헤더이며 그 출력은 32바이트의 16진수이다.

논스를 수정하면 출력도 수정되는데 예측할 수 없는 방식으로 수정됨.

네트워크가 채굴된 블록을 수용하려면 블록 헤더에 대한 이더해시 출력이 네트워크 난이도보다 적어야 하며 또 다른 32바이트의 16진수가 채워질 대상으로 사용됨.

목표 난이도를 상회하는 블록을 브로드캐스트하는 모든 채굴자는 블록 보상을 받게 됨.

### 보상



## 토큰

토큰은 메인넷에 기반해 만들어진 가상자산. 즉, 블록체인 네트워크 위에서 발행된 지역화폐이다.

현재 시장에는 이더리움 메인넷 계열의 ERC-20 기반 토큰이 가장 많다.

토큰이 사용될 수 있는 곳은 발행된 블록체인 네트워크로 제한됩니다. 그러나 이 지역화폐는, 코인처럼 새로운 생태계를 만들어낼 수 있다.

가장 대표적인 예가 탈중앙화 금융(De-Fi). 하나의 토큰을 거버넌스 토큰으로 정하고, 이 거버넌스 토큰을 중심으로 새로운 생태계를 구성함.

> De-Fi에서는 거버넌스 토큰을 예치(스테이킹; Staking)하고, 토큰과 코인 또는 토큰과 토큰사이의 거래 수수료를 예치한 사람들에게 재분배하는 모델을 사용

이처럼 토큰을 기반으로 새롭게 생성된 생태계를 토큰 이코노미라고 하며, 토큰 이코노미가 여럿 모여서 크립토 이코노미를 실현함.


### 토큰의 유형

#### NFT (non-fungible token)

NFT(대체 불가능한 토큰)은 블록체인 상에서 특정 자산을 나타내는 암호 토큰 중 하나.
이는 전적으로 디지털 자산이거나 실제 세계 자산의 토큰화된 버전.

대체 불가능한 토큰은 상호 대체가 불가능하기 때문에, 디지털 영역에서 진위나 소유권을 증명하는 데 사용될 수도 있다.

#### FT (fungible token)

각기 동일한 가치와 기능을 가지게 됨.

서로 교환이 가능하며, 동일 단위의 1:1 교환이 발생할 경우 사실상 교환이 발생하지 않았던 것과 다름이 없다.

명목화폐, 비트코인, 이더 등의 통상적 암호화폐들과 귀금속, 채권 등이 FT에 해당됨.

#### NTT (non-transferable token)

‘전송 불가능한 토큰’ 또는 ‘양도 불가능한 토큰’이라 불리는 NTT는 한 번 할당되면 양도할 수 없는 토큰이다.

### 토큰 이코노미(Token Economy)와 크립토 이코노미(Crypto Economy)

왜 채굴자(Miner)들은 설명만 들어도 복잡한 과정을 진행하며 채굴을 할까요?
결론부터 말씀드리자면, 그들에게 이익이 되기 때문이다.

### 토큰 이코노미 (Token economy)
블록체인에서 사용하는 코인 또는 토큰을 활용하여 서비스를 제공하여 이윤을 창출하는 방법과 
참여자들에게 보상을 주어 활성화하는 방법과
분산원장의 거버넌스 등을 결합한 경제 생태계

기존 광고시장의 경제 시스템을 보면 '광고는 내가 보는데, 그 광고에 대한 수익은 다른 사람(or 플랫폼)이 가져가는 구조'
-> 어떻게 보면 당연한데, 한편으로는 "불공평하다."라고 생각할 수 있는 부분

이를 토큰 이코노미에서는 자신이 광고를 보면 광고를 보는 만큼 토큰이 주어지게 되고, 그 토큰을 가지고 이익을 얻게 되는 구조

#### 토큰 이코노미 구축

토큰 이코노미는 자체적인 토큰을 가지고 참여자를 유도하는 생태계 빌딩함.

매력적인 서비스를 개발하여 광고 or 멤버십 경제 시스템을 구축하는 기존의 App들과 달리 

매력적인 토큰 생태계를 구축하여 참여자를 활성화시키는 선순환 구조를 만드는 것이 dApp(탈 중앙화 애플리케이션)의 중점

다음은 기획단계에서 파악해야 할 부분이다

- 보상(토큰)은 어떤 기준으로 참여자에게 줄 것인가?

- 어떤 방법으로 토큰이 가치를 갖게 할 것인가?

- 사용자들이 토큰을 보유해야 할 이유는 무엇인가?

- 토큰 발행량은 얼마나 하며 어떻게 분배할 것인가?

- 네트워크의 성장과 토큰의 가치 상승을 어떻게 연동할 것인가?

- 토큰의 가격 변동성은 어떻게 해결할 것인가?

### 크립토 이코노미(Crypto Economy)

수년간 블록체인 발전을 통해 형성된 새로운 경제모델이다.

블록체인에서 사용하는 코인 또는 토큰을 활용하여 서비스를 제공하여 이윤을 창출하는 방법과 참여자들에게 보상을 주어 활성화하는 방법, 
분산원장의 거버넌스 등을 결합한 경제 생태계를 말함.

위의 토큰 이코노미(Token Economy)는 크립토 이코노미(Crypto Economy)를 구성하는 중요한 일부분이다.

쉽게 말해, 블록체인의 마이닝(채굴) 코인을 기반으로 한 토큰 이코노미(Token Economy; Token-based Economy)를 말함.

> 블록체인 생태계에는 거버넌스 토큰(코인)이 있다.

테라 생태계에서 사용하는 거버넌스 토큰은 $Luna
이더리움 생태계에서 사용하는 거버넌스 토큰은 $ETH(Ethereum)
클레이튼 생태계에서 사용하는 거버넌스 토큰은 $KLAY

이렇게 하나의 생태계는, 생태계를 대표하는 거버넌스 토큰(코인)이 존재함.

코인과 토큰의 차이는 블록체인 노드에 채굴 보상으로 주어지는 마이닝 코인과 하나의 블록체인(ex. 테라, 클레이튼, 이더리움) 위에서 발행하여 
새로운 생태계(거버넌스)를 구성하는 토큰으로 구분함.

지금은 채굴을 통해 받는 보상이 코인이며, 토큰은 블록체인 네트워크에서 생성한다는 정도의 차이만 이해하면 충분

### 크립토 이코노믹스에서 말하는 크립토 이코노미 생태계

크립토 이코노믹스(Crypto Economics)는 크립토 이코노미(Crypto Economy)를 연구하여 정의되고 있고, 
크립토 이코노믹스에서 정의한 크립토 이코노미 생태계는 다음과 같다.

- 암호화폐는 블록체인으로 공급된 통화이며, 암호화된 자산은 재화에 해당함.
    참여자들에 대한 보상은 기본소득의 성격을 가짐.
    한편 플랫폼 운영자를 탈중앙화된 방식으로 모아야 하는데, 이를 위해서는 최소한 운영 비용은 제공해야 할 뿐만 아니라 경제인으로서의 이익은 가져갈 수 있어야함.

    그러나 충분히 탈중앙화된 방식으로 누구나 참여할 수 있다면, 보상의 규모는 현재의 플랫폼 사업자가 얻는 수준의 초과 이익보다 훨씬 적을 것
    스마트 컨트랙트는 사용자가 다양한 재화와 용역을 암호화폐를 지불하면서 직거래 할 수 있도록함.
    암호화폐와 자동화된 스마트 컨트랜트를 통해 플랫폼은 플랫폼 사업자 없이 P2P 거래를 수행할 수 있다.

- 신뢰, 평판, 보안을 얻는 것은 암호학을 바탕으로 보장되어야 함.

- 거버넌스는 탈중앙화된 형태로 구조화되어야 한다.
    합의 알고리즘은 거버넌스를 뒷받침합니다. 물론 합의 알고리즘은 토큰 이코노미나 보상 체계와도 연관됨.
    사실 크립토 이코노믹스는 토큰 이코노미와 보상체계, 암호학 기술, 거버넌스 등을 모두 포괄함.

### 코인과 토큰의 차이

독자적인 기술 수준에 따라서 구분하기도 하고, 몇몇의 사람들은 단순히 이름 짓기 나름이라고도 함.

그 중 **가장 보편적으로 사용되는 구분 기준은 플랫폼의 유무**

블록체인 네트워크를 그 코인이 독자적으로 가지고 있다면 코인, 다른 블록체인 네트워크 기반을 사용한다면 토큰

블록체인 기술은 암호화폐의 해킹을 방지하는 기술이다.

여기서 이더리움 버전의 블록체인을 쓰면 이미 만들어진 이더리움 블록체인을 이용하여 쉽게 새로운 암호화폐를 만들 수 있다.

이렇게 만들어진 암호화폐는 이더리움 버전의 블록체인을 쓰기 때문에 이더리움과 쉽게 상호작용할 수 있게됨.
이와 같이 자신만의 고유한 블록체인 버전을 가지고 있으면 코인

이에 반해, 기존에 존재하는 코인 버전을 사용하는 암호화폐는 토큰이됨.

즉, 코인과 토큰의 차이점 중 명확하게 구분할 수 있는 것은 독자적인 플랫폼을 가지고 있느냐, 없느냐의 차이

### ERC-20

이더리움에서 ERC는 Ethereum Request for Comments(이더리움 논평 요청서)를 의미
이는 **이더리움상의 프로그래밍 표준을 개괄적으로 설명하는 기술 문서.**

비트코인 개선 제안서(BIP)처럼 프로토콜 개선을 제안하는 이더리움 개선 제안서(EIP, Ethereum Improvement Proposals)와 이를 혼동해서는 안 됨.

ERC는 애플리케이션과 콘트랙트가 보다 쉽게 상호작용하는 규약을 만드는 것을 목표로 함.

ERC-20은 비교적 간단한 이더리움 기반 토큰을 제안하고 있다. 
개발자들은 전반적인 사항을 따르면 되며, 복잡한 시스템을 개발하지 않아도 됨. 이들은 업계 전반에서 이미 사용되고 있는 기반 위에서 개발을 진행할 수 있다

ERC-20 토큰이 생성되면, 이는 ERC-20 표준을 지원하는 서비스 및 소프트웨어(소프트웨어 지갑, 하드웨어 지갑, 거래소 등)와 자동으로 호환됨.

한 가지 알아둘 것은 ERC-20 표준이 하나의 EIP로 발전했다는 것
-> (보다 구체적으로는, EIP-20). 이는 기존 제안이 제시된 몇 년 후, 해당 제안이 널리 사용되며 일어난 일

그러나 수년이 지나도, “ERC-20”이라는 명칭을 고수하고 있다.

### 이더리움 토큰
이더리움 자체 암호화폐인 이더(ETH)와 달리, ERC-20 토큰은 계정에 보관되지 않는다.

토큰은 콘트랙트 내부에만 존재하며, 이는 독립적인 데이터베이스와 같다.

이는 토큰 규칙(예를 들면, 이름, 심볼, 가분성)들을 구체적으로 명시하며, 사용자 계정에 상응하는 목록을 이더리움 주소에 보관한다.

토큰을 이동하려면 사용자는 자신의 잔고 일부를 다른 곳으로 전달 요청하는 트랜잭션을 콘트랙트에 전송해야만 함.

example)
김블록이 5천 BTC(빗썸테크캠프)토큰을 이체인에게 전송하고자 할 경우, 해당 토큰 내부의 스마트 콘트랙트 기능을 호출하여 이를 요청한다.

김블록의 요청은 해당 토큰 콘트랙트에 0 ETH를 지불하는 일반적인 이더리움 트랜잭션처럼 보이는 것 내부에 포함됨

해당 요청은 트랜잭션의 부가적인 영역에 포함되며, 이 경우에는 김블록이 이체인에게 토큰을 전송하고 싶다는 것을 구체적으로 명시

김블록이 자신의 이더를 전송하지 않음에도, 여전히 블록에 트랜잭션을 포함되게 하기 위해서는 소정의 명시된 수수료를 지불해야만함.

김블록이 이더를 보유하고 있지 않을 경우, 토큰을 전송하기 전 이를 확보해야만 함.

### ERC-20 컨트랙트의 필수적인 6가지 기능

ERC-20을 준수하려면 콘트랙트에 다음 여섯 가지 기능이 필수적으로 포함되어야 함.

이는 전체 공급량(totalSupply), 잔고(balanceOf), 전송(transfer), ~에서 전송(transferFrom), 승인(approve), 허용(allowance)

다음은 이더리움을 위해 특별히 제작된 솔리디티(Solidity) 언어에서 찾아볼 수 있는 기능들이다.

- totalSupply : 사용자가 이를 호출하면, 해당 함수는 콘트랙트가 보유하고 있는 토큰의 전체 공급량을 전달
```
function totalSupply() public view returns (uint256)
```

- balanceOf : totalSupply와 달리 balanceOf는 매개 변수(주소)가 필요함. 함수가 호출되면, 해당 주소가 보유하고 있는 토큰의 잔고가 출력
            이더리움 네트워크의 계정은 공개적이므로, 주소를 알면 모든 사용자의 잔고를 요청할 수 있다
```
function balanceOf(address _owner) public view returns (uint256 balance)
```

- transfer : 다른 사용자에게 토큰을 전송하는 것입니다. 여러분은 전송하고자 하는 주소와 금액을 제공해야 함.
        함수가 호출되면 transfer는 이벤트(여기서는 event transfer)를 호출하며, 이는 기본적으로 블록체인이 참조를 포함하도록 지시
```
function transfer(address _to, uint256 _value) public returns (bool success)
```

- transferFrom :transfer를 간소화한 것으로, 이를 통해 탈중앙화 애플리케이션에서 조금 더 프로그래밍이 가능함.
    transfer와 마찬가지로, 이는 토큰을 전송하는 데 사용하지만 해당 토큰이 반드시 콘트랙트를 호출하는 이의 소유일 필요는 없다.
    즉, 여러분은 다른 누군가 또는 다른 콘트랙트에서 여러분을 대신하여 자금을 전송하도록 허락할 수 있다.
    매일/매주/매월 수동으로 결제해야 하는 구독 기반 서비스 결제에 이를 사용할 수 있습니다. 프로그램을 통해 이를 자동으로 처리할 수 있다.
```
function transferFrom(address _from, address _to, uint256 _value) public returns (bool success)
```

- approve : 이 함수를 사용해 스마트 콘트랙트가 여러분의 잔고에서 인출할 수 있는 토큰 수량을 제한할 수 있다.
        이 함수가 없다면 함수 오작동(또는 부정한 이용)과 자금 탈취의 위험이 있음.

```
function approve(address _spender, uint256 _value) public returns (bool success)
```
- allowance : approve와 함께 사용할 수 있습니다. 특정 콘트랙트에 토큰 관리 기능을 부여했다면, 
        이를 통해 얼마나 많은 토큰을 여전히 인출할 수 있는지 확인하는 데 사용할 수 있다.

```
function allowance(address _owner, address _spender) public view returns (uint256 remaining)
```

### ERC-721 (NFT)

ERC-721 토큰은 ERC-721 토큰이 대체 불가능하다는 점에서 ERC-20 토큰과 다릅니다. 이는 각 토큰이 고유하며 결과적으로 교환할 수 없음을 의미

### ERC-721을 NFT라 부르는 이유

https://eips.ethereum.org/EIPS/eip-721

이더리움 개선 제안의 721번째 토론에서는 하나하나의 구분 가능한 토큰에 대한 토론이 이뤄짐.
ERC-20으로 생성한 Fungible Token, 완전히 대체 가능한 토큰이 아니라 단 하나의 토큰으로써 식별이 가능하고, 
하나의 토큰을 추적할 수 있게 하는 토큰이 NFT(Non-Fungible Token)이다.

example ) 
크립토키티는 수집형 토큰이라는 ERC-721의 특징을 활용했습니다.
ERC-721은 토큰이 디앱 내에서 공유될 수 있고, 미래 NFT 생성에 영향을 미칠 수 있는 수집물이 될 수 있도록 합니다. 
사용자들은 이 세상에서 하나밖에 없는 유일한 고양이를 수집하는 것에서 재미를 얻는다.

NFT는 무제한으로 공급이 가능한데, 가치의 손상을 막기 위해 대부분의 디앱 프로젝트가 NFT의 전체 공급량을 제한하고 있다.

NFT라는 용어는 설문조사를 통해 결정되었습니다. 구별할 수 있는 디지털 자산의 광범위한 영역에 적용될 수 있기 때문이다.
-> NFT라는 용어를 대신해서 사용할 용어로 Distinguishable Asset, Title Token, Asset, Equity, Ticket 등이 고려됬었음.

### ERC-20 토큰과 ERC-721의 차이점


