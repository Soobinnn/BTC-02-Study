# 블록체인의 구성

- 블록헤더 : 
    블록의 정체성 
        - 비전, 이전 블록의 해시 - 블록들과 연결되어 있음을 나타내는, 이전 블록의 해시값을 갖는 데이터
        - 난이도, 타임스탬프, 난스 - 채굴 경쟁과 직접 연관이 있는부분
        - Merkle Root

- 거래 카운터

- 거래 : 블록에 기록된 거래내역

## 머클루트 (Merkle Root)란?

머클 트리는 이진트리(binary trees)라는 이름으로도 알려져 있다.
여기서 이진트리는 거래를 두개씩 묶는다는 말.

// 그림

두 개씩 거래를 묶은 다음 알고리즘을 통해 해시값으로 나타내고, 또 그렇게 묶은 값들을 다시 두개씩 묶어서 또 해싱하여 
수 백개의 거래 값들을 그림의 가장 꼭대기에 위치한 하나의 데이터로 만들어주는 것.
(거래가 몇 십개, 몇 백개, 몇천개든 뭉쳐서 요약된 머클루트의 용량은 32비트로 항상 같다.)

이렇게 두개씩 묶어서 올라가게 되면 거래량이 기하급수적으로 늘어나도, 특정 거래를 찾는 경로는 단순하다. 라는 이점이 있다.
거래 건수인 N이 증가할 떄마다 특정 거래의 경로를 찾는 경우의 수는 log2(N)으로 늘어나기 때문이다.

1024개의 거래라고 해도 해싱이 되는 과정은 log2(1024) 즉, 10번이었으므로 열번의 경로를 찾아가는 연산을 하면 특정 거래 데이터를 쉽게 찾을 수 있다.
그렇기에 거래 내역을 위조하려는 시도가 있어도 머클트리의 경로를 따라가면, 해시값이 다른 것이 나오게 되어 **위변조도 쉽고 빠르게 알 수 있게 되고** 이를 방지할 수 있다.

/* 블록체인의 용량은 시간이 지날수록 지속적으로 늘어나기 때문에 이제는 성능이 좋은 컴퓨터만 모든 블록체인을 다운받는 full node가 될 수 있다.
하지만, 이 머클트리의 이진트리 방식은 블록데이터의 일부만 다운받는 light node로 우리가 가지고 다니는 모바일로도 쉽게 빠르게 특정 거래를 찾도록 해준다.